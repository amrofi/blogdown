---
title: 'Economia Regional em R: Indicadores de localização - Coeficiente de Localização,
  Potencial de mercado, Centro econômico, Ellison-Glaeser, Separação espacial de Venables,
  Proximidade, Centralidade Urbana'
author: 'Adriano M R Figueiredo'
date: '2020-05-06'
slug: economia-regional-em-r-indicadores-de-analise-3
categories: []
tags:
  - economia regional
  - indicadores regionais
  - Mato Grosso do Sul
  - localização
  - EG
  - CL
  - Proximidade
  - Centralidade
  - Centro econômico
subtitle: ''
summary: 'This is a undergraduate exercise for class use.'
authors: []
lastmod: '2020-05-06T10:57:52-04:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---



<div id="Licença" class="section level1 unnumbered">
<h1>Licença</h1>
<p>This work is licensed under the Creative Commons Attribution-ShareAlike 4.0 International License. To view a copy of this license, visit <a href="http://creativecommons.org/licenses/by-sa/4.0/" class="uri">http://creativecommons.org/licenses/by-sa/4.0/</a> or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.</p>
<div class="figure">
<img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png" style="width:25.0%" alt="" />
<p class="caption">License: CC BY-SA 4.0</p>
</div>
</div>
<div id="Citação" class="section level1 unnumbered">
<h1>Citação</h1>
<p>Sugestão de citação:
FIGUEIREDO, Adriano Marcos Rodrigues. Economia Regional em R: Indicadores de localização - Coeficiente de Localização, Potencial de mercado, Centro econômico, Ellison-Glaeser, Separação espacial de Venables, Proximidade, Centralidade Urbana. Campo Grande-MS,Brasil: RStudio/Rpubs, 2020. Disponível em <a href="http://rpubs.com/amrofi/regional_indicators_3" class="uri">http://rpubs.com/amrofi/regional_indicators_3</a> e <a href="https://adrianofigueiredo.netlify.app/post/Regional_Economics_CEmaps/" class="uri">https://adrianofigueiredo.netlify.app/post/Regional_Economics_CEmaps/</a>.</p>
</div>
<div id="script-para-reprodução-se-utilizar-citar-como-acima" class="section level1">
<h1>Script para reprodução (se utilizar, citar como acima)</h1>
<a href="data:text/x-markdown;base64,LS0tDQp0aXRsZTogJ0Vjb25vbWlhIFJlZ2lvbmFsIGVtIFI6IEluZGljYWRvcmVzIGRlIGxvY2FsaXphw6fDo28gLSBDb2VmaWNpZW50ZSBkZSBMb2NhbGl6YcOnw6NvLA0KICBQb3RlbmNpYWwgZGUgbWVyY2FkbywgQ2VudHJvIGVjb27DtG1pY28sIEVsbGlzb24tR2xhZXNlciwgU2VwYXJhw6fDo28gZXNwYWNpYWwgZGUgVmVuYWJsZXMsDQogIFByb3hpbWlkYWRlLCBDZW50cmFsaWRhZGUgVXJiYW5hJw0KYXV0aG9yOiAnQWRyaWFubyBNIFIgRmlndWVpcmVkbycNCmRhdGU6ICcyMDIwLTA1LTA2Jw0Kc2x1ZzogZWNvbm9taWEtcmVnaW9uYWwtZW0tci1pbmRpY2Fkb3Jlcy1kZS1hbmFsaXNlLTMNCmNhdGVnb3JpZXM6IFtdDQp0YWdzOg0KICAtIGVjb25vbWlhIHJlZ2lvbmFsDQogIC0gaW5kaWNhZG9yZXMgcmVnaW9uYWlzDQogIC0gTWF0byBHcm9zc28gZG8gU3VsDQogIC0gbG9jYWxpemHDp8Ojbw0KICAtIEVHDQogIC0gQ0wNCiAgLSBQcm94aW1pZGFkZQ0KICAtIENlbnRyYWxpZGFkZQ0KICAtIENlbnRybyBlY29uw7RtaWNvDQpzdWJ0aXRsZTogJycNCnN1bW1hcnk6ICdUaGlzIGlzIGEgdW5kZXJncmFkdWF0ZSBleGVyY2lzZSBmb3IgY2xhc3MgdXNlLicNCmF1dGhvcnM6IFtdDQpsYXN0bW9kOiAnMjAyMC0wNS0wNlQxMDo1Nzo1Mi0wNDowMCcNCmZlYXR1cmVkOiBubw0KaW1hZ2U6DQogIGNhcHRpb246ICcnDQogIGZvY2FsX3BvaW50OiAnJw0KICBwcmV2aWV3X29ubHk6IG5vDQpwcm9qZWN0czogW10NCi0tLQ0KDQpgYGB7ciBrbml0cl9pbml0LCBlY2hvPUZBTFNFLCBjYWNoZT1GQUxTRX0NCmxpYnJhcnkoa25pdHIpDQpsaWJyYXJ5KHJtYXJrZG93bikNCmxpYnJhcnkocm1kZm9ybWF0cykNCg0KIyMgR2xvYmFsIG9wdGlvbnMNCm9wdGlvbnMobWF4LnByaW50PSIxMDAiKQ0Kb3B0c19jaHVuayRzZXQoZWNobz1UUlVFLA0KCSAgICAgICAgICAgICBjYWNoZT1UUlVFLA0KICAgICAgICAgICAgICAgcHJvbXB0PUZBTFNFLA0KICAgICAgICAgICAgICAgdGlkeT1UUlVFLA0KICAgICAgICAgICAgICAgY29tbWVudD1OQSwNCiAgICAgICAgICAgICAgIG1lc3NhZ2U9RkFMU0UsDQogICAgICAgICAgICAgICB3YXJuaW5nPUZBTFNFKQ0Kb3B0c19rbml0JHNldCh3aWR0aD0xMDApDQpgYGANCg0KDQpMaWNlbsOnYSB7LSNMaWNlbsOnYX0NCj09PT09PT09PT09PT09PT09PT0NCg0KVGhpcyB3b3JrIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uLVNoYXJlQWxpa2UgNC4wIEludGVybmF0aW9uYWwgTGljZW5zZS4gVG8gdmlldyBhIGNvcHkgb2YgdGhpcyBsaWNlbnNlLCB2aXNpdCA8aHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvNC4wLz4gb3Igc2VuZCBhIGxldHRlciB0byBDcmVhdGl2ZSBDb21tb25zLCBQTyBCb3ggMTg2NiwgTW91bnRhaW4gVmlldywgQ0EgOTQwNDIsIFVTQS4NCg0KIVtMaWNlbnNlOiBDQyBCWS1TQSA0LjBdKGh0dHBzOi8vbWlycm9ycy5jcmVhdGl2ZWNvbW1vbnMub3JnL3ByZXNza2l0L2J1dHRvbnMvODh4MzEvcG5nL2J5LXNhLnBuZyl7IHdpZHRoPTI1JSB9DQoNCkNpdGHDp8OjbyB7LSNDaXRhw6fDo299DQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDQpTdWdlc3TDo28gZGUgY2l0YcOnw6NvOg0KRklHVUVJUkVETywgQWRyaWFubyBNYXJjb3MgUm9kcmlndWVzLiBFY29ub21pYSBSZWdpb25hbCBlbSBSOiBJbmRpY2Fkb3JlcyBkZSBsb2NhbGl6YcOnw6NvIC0gQ29lZmljaWVudGUgZGUgTG9jYWxpemHDp8OjbywgUG90ZW5jaWFsIGRlIG1lcmNhZG8sIENlbnRybyBlY29uw7RtaWNvLCBFbGxpc29uLUdsYWVzZXIsIFNlcGFyYcOnw6NvIGVzcGFjaWFsIGRlIFZlbmFibGVzLCBQcm94aW1pZGFkZSwgQ2VudHJhbGlkYWRlIFVyYmFuYS4gQ2FtcG8gR3JhbmRlLU1TLEJyYXNpbDogUlN0dWRpby9ScHVicywgMjAyMC4gRGlzcG9uw612ZWwgZW0gPGh0dHA6Ly9ycHVicy5jb20vYW1yb2ZpL3JlZ2lvbmFsX2luZGljYXRvcnNfMz4gZSA8aHR0cHM6Ly9hZHJpYW5vZmlndWVpcmVkby5uZXRsaWZ5LmFwcC9wb3N0L2Vjb25vbWlhLXJlZ2lvbmFsLWVtLXItaW5kaWNhZG9yZXMtZGUtYW5hbGlzZS0zLz4uIA0KDQoNCg0KU2NyaXB0IHBhcmEgcmVwcm9kdcOnw6NvIChzZSB1dGlsaXphciwgY2l0YXIgY29tbyBhY2ltYSkNCj09PT09PT09PT09PT09PT09PQ0KDQpgYGB7ciBlY2hvPUZBTFNFfQ0KIyBhIHNpbmdsZSBmaWxlDQp4ZnVuOjplbWJlZF9maWxlKCcyMDIwLTA1LTA2LWVjb25vbWlhLXJlZ2lvbmFsLWVtLXItaW5kaWNhZG9yZXMtZGUtYW5hbGlzZS0zLlJtZCcpDQpgYGANCg0KSW50cm9kdcOnw6NvDQo9PT09PT09PT09PT09PT09PT09DQoNCg0KRXN0ZSBtYXRlcmlhbCDDqSB1bWEgc2VxdcOqbmNpYSBhbyBjb250ZcO6ZG8gZGFzIGR1YXMgcGFydGVzIGFudGVyaW9yZXMgZGlzcG9uw612ZWlzIGVtIEZpZ3VlaXJlZG8gKDIwMjBiOzIwMjBjKS4gTmEgcHJpbWVpcmEgcGFydGUgZm9yYW0gYXByZXNlbnRhZG9zIG9zIGluZGljYWRvcmVzIGRlIGRlc2lndWFsZGFkZSwgZSBuYSBzZWd1bmRhIG9zIGRlIGVzcGVjaWFsaXphw6fDo28uIEFnb3JhIGZhbGFyZW1vcyBkb3MgaW5kaWNhZG9yZXMgZGUgbG9jYWxpemHDp8OjbyByZWdpb25hbCwgY29uZm9ybWUgY2l0YSBNb25hc3TDqXJpbyAoMjAxMSksIGUgb3V0cmFzIGxlaXR1cmFzIMO6dGVpcyBhbMOpbSBkZXN0ZSBhdXRvciwgc8OjbyBDb3V0aW5obyAoMjAxNykgZSBIb292ZXIgZSBHaWFycmF0YW5pICgxOTg0OzIwMjApLiBVdGlsaXphcmVtb3Mgb3MgcGFjb3RlcyBgUkVBVGAgZGUgV2llbGFuZCAoMjAxOSk7IGUgYEVjb25HZW9gIGRlICBCYWxsYW5kICgyMDE3LCAyMDE5KSwgYWzDqW0gZGUgYWxndW1hcyBmdW7Dp8O1ZXMgcHLDs3ByaWFzLiAgICAgDQoNCg0KSW5kaWNhZG9yZXMgZGUgTG9jYWxpemHDp8OjbyBSZWdpb25hbA0KPT09PT09PT09PT09PT09PT09PT09PQ0KDQpPIG9iamV0aXZvIGRlc3NlcyBpbmRpY2Fkb3JlcyDDqSByZXN1bWlyIG9zIHBhZHLDtWVzIGVzcGFjaWFpcyBkYSBhdGl2aWRhZGUgZWNvbsO0bWljYSwgdGVudGFuZG8gY29tcHJlZW5kZXIgY29tbyB1bSBzZXRvciBlc3TDoSBkaXN0cmlidcOtZG8gZW0gdW0gbG9jYWwgb3UgcmVnacOjbywgb3UgYWluZGEsIHF1YWlzIG9zIGxvY2FpcyBtYWlzIGltcG9ydGFudGVzIHBhcmEgdW0gc2V0b3IuIEEgIGxvY2FsaXphw6fDo28gIHJlZmVyZS1zZSAgYSAgbWVkaXIgIG8gIHF1w6NvICBjb25jZW50cmFkb3MgIHJlZ2lvbmFsbWVudGUgIGVzdMOjbyAgb3Mgc2V0b3Jlcy4gRW0gZ2VyYWwsIG9zIGluZGljYWRvcmVzIGRlIGxvY2FsaXphw6fDo28gcG9kZW0gc2VyIGFkYXB0YWRvcyBhIHBhcnRpciBkb3MgZGUgZXNwZWNpYWxpemHDp8OjbywgY29tIGEgZGlmZXJlbsOnYSBkZSBxdWUgb3MgaW5kaWNhZG9yZXMgZGVzdGUgdGlwbyBzZSByZWZlcmVtIGFvcyBzZXRvcmVzIGVjb27DtG1pY29zIGUgbsOjbyBtYWlzIMOgcyByZWdpw7Vlcy4gICAgDQoNCkFzIHByaW1laXJhcyByZWZlcsOqbmNpYXMgbm8gYXNzdW50byBzw6NvIGF0cmlidcOtZGFzIGEgRmxvcmVuY2UgKDE5NDgpLCBjaXRhZG8gcG9yIE1vbmFzdMOpcmlvICgyMDExKSwgTm9ydGggKDE5NzcpIGVudHJlIG91dHJvcy4NCg0KQSBpZGVpYSBiw6FzaWNhIGRlc3RlIGFycXVpdm8gw6kgb3JpZW50YXIgb3MgcHJvY2VkaW1lbnRvcyBwYXJhIG8gY8OhbGN1bG8gZG9zIGluZGljYWRvcmVzIGRlIGFuw6FsaXNlIHJlZ2lvbmFsIGEgc2FiZXI6DQoNCjEuIENvZWZpY2llbnRlIGRlIExvY2FsaXphw6fDo28gKCRDTCQpICAgICANCjIuIENlbnRybyBlY29uw7RtaWNvICAgIA0KMy4gUG90ZW5jaWFsIGRlIG1lcmNhZG8gKCRNUCQgbm8gaW5nbMOqcywgX01hcmtldCBQb3RlbnRpYWxfKSAgICAgDQo0LiDDjW5kaWNlIGRlIEVsbGlzb24tR2xhZXNlciAoJEVHSSQpICAgIA0KNS4gw41uZGljZSBkZSBTZXBhcmHDp8OjbyBFc3BhY2lhbCAoJElTUCQgLSBfU3BhdGlhbCBTZXBhcmF0aW9uIEluZGV4XyAgb3UgZGUgVmVuYWJsZXMgJFYkKSAgICANCjYuIMONbmRpY2UgZGUgQ2VudHJhbGlkYWRlIFVyYmFuYSAkVUNJJCAgICAgDQoNCkNvZWZpY2llbnRlIGRlIExvY2FsaXphw6fDo28gZGUgRmxvcmVuY2UgKCRDTCQpIA0KPT09PT09PT09PT09PT09PT09PT09PQ0KDQpBcyBwcmltZWlyYXMgcmVmZXLDqm5jaWFzIHBhcmEgbyBjb2VmaWNpZW50ZSBkZSBsb2NhbGl6YcOnw6NvIHPDo28gYXRyaWJ1w61kYXMgYSBGbG9yZW5jZSAoMTk0OCksIGNpdGFkbyBwb3IgTW9uYXN0w6lyaW8gKDIwMTEpLCBOb3J0aCAoMTk3NykgZW50cmUgb3V0cm9zLiBOb3J0aCAoMTk3NykgYWluZGEgbWVuY2lvbmEgbyB0cmFiYWxobyBkZSBIaWxkZWJyYW5kIGUgTWFjZSBKci4gKDE5NTApIGNvbSB1bSBxdW9jaWVudGUgZGUgbG9jYWxpemHDp8OjbyBxdWUgY29uZHV6IGFvIG1lc21vIHJlc3VsdGFkbywgY29uZm9ybWUgcmVjb25oZWNpZG8gcG9yIE5vcnRoKDE5NzcsIHAuMzAxKS4gTyByYWNpb2PDrW5pbyBwYXJhIGVzdGUgY29lZmljaWVudGUgZW52b2x2ZSBhIGNvbXBhcmHDp8OjbyBkYSBjb25jZW50cmHDp8OjbyBkbyBlbXByZWdvIGRlIHVtYSBhdGl2aWRhZGUgZW0gdW0gbG9jYWwgZGUgYW7DoWxpc2UgKHBvciBleGVtcGxvIG8gbXVuaWPDrXBpbyksIGNvbSB1bSBsb2NhbCBkZSByZWZlcsOqbmNpYSAocG9yIGV4ZW1wbG8sIG8gZXN0YWRvKS4gICANCg0KQSBleHByZXNzw6NvIGLDoXNpY2Egw6kgbXVpdG8gc2ltaWxhciDDoCBkbyAkQ0UkLCBwYXJhIHNldG9yZXMgJGskIGUgbG9jYWxpZGFkZXMgJGkkLCBtYXMgYWdvcmEgc29tYW5kbyBlbnRyZSBsb2NhbGlkYWRlcyAkaSQsIGNvbmZvcm1lIE1vbmFzdMOpcmlvICgyMDExKSBkYWRhIHBvcjogICANCg0KJCQNCkN7TF9rfSA9IFxmcmFjezF9ezJ9XHN1bVxsaW1pdHNfaSB7XGxlZnR8IHtcZnJhY3t7e0Vfe2tpfX19fXt7e0Vfa319fSAtIFxmcmFje3t7RV9pfX19e0V9fSBccmlnaHR8fQ0KJCQNCg0KZW0gcXVlOiAke0Vfe2tpfX0kIMOpIG8gZW1wcmVnbyBubyBzZXRvciAkayQgIG5hIGxvY2FsaWRhZGUgZGUgYW7DoWxpc2UgJGkkOyAke0VfaX0kIMOpIG8gZW1wcmVnbyB0b3RhbCBuYSBsb2NhbGlkYWRlIGRlIGFuw6FsaXNlICRpJDsgJHtFX2t9JCDDqSBvIGVtcHJlZ28gbm8gc2V0b3IgJGskIGRhIGxvY2FsaWRhZGUgZGUgcmVmZXLDqm5jaWE7IGUgJEUkIMOpIG8gZW1wcmVnbyB0b3RhbCBkYSBsb2NhbGlkYWRlIGRlIHJlZmVyw6puY2lhLiANCg0KIyMgT3JnYW5pemHDp8OjbyBkb3MgZGFkb3MNCg0KUGFyYSBvIGPDoWxjdWxvIGRlICRDTCQsIG5lY2Vzc2l0YS1zZSBkb3MgZGFkb3MgZGUgZW1wcmVnbyBwb3Igc2V0b3IgZW0gY2FkYSBtdW5pY8OtcGlvIGRlIE1TLiBEZXN0YSBmb3JtYSwgY2hhbWEtc2UgYSBwbGFuaWxoYSBqw6EgcHJlcGFyYWRhIGNvbSBvcyBkYWRvcyBkYSBiYXNlIGRlIGluZm9ybWHDp8O1ZXMgUkFJUyBkbyBNaW5pc3TDqXJpbyBkbyBUcmFiYWxobyBlIEVtcHJlZ28gZG8gQnJhc2lsIChNVEUpLiBVbSBtZWlvIGRlIG9idGVyIHRhaXMgaW5mb3JtYcOnw7VlcyBlbGV0cm9uaWNhbWVudGUgw6kgcGVsbyBwYWNvdGUgYHJhaXNyYC4gT3V0cmEgZm9ybWEgw6kgcGVsYSBww6FnaW5hIGRhIFNlY3JldGFyaWEgZG8gVHJhYmFsaG8gZG8gTWluaXN0w6lyaW8gZGEgRWNvbm9taWEgKGFudGlnbyBNaW5pc3TDqXJpbyBkbyBUcmFiYWxobyBlIEVtcHJlZ28gLSBNVEUpIDxodHRwOi8vcGRldC5tdGUuZ292LmJyLz4uICAgICANCg0KQSBSQUlTIHBvc3N1aSBvcyBkYWRvcyBwYXJhIG8gZmluYWwgZGUgY2FkYSBhbm8gKGRlemVtYnJvKSwgcG9ydGFudG8sIG9zIHNhbGRvcyBkZSBlbXByZWdhZG9zIG9jdXBhZG9zLiBBIENBR0VEIGFwcmVzZW50YSBvdXRybyB0aXBvIGRlIGluZm9ybWHDp8OjbywgYSBkZSBsaWdhZG9zIGUgZGVzbGlnYWRvcywgaW52w6lzIGRvIHNhbGRvIGRlIHBlc3NvYXMgb2N1cGFkYXMuIFV0aWxpemFyZW1vcyBvcyBkYWRvcyBkYSBSQUlTIHBvciB2w61uY3Vsb3MsIHBvciBEaXZpc8OjbyBDTkFFIDIuMCBlIHBvciBtdW5pY8OtcGlvLiBPdXRyYXMgYWdyZWdhw6fDtWVzIHBvZGVtIHNlciB0ZXN0YWRhcywgYSBjcml0w6lyaW8gZG8gdXN1w6FyaW8uIE8gcHJvY2VkaW1lbnRvIHJlY29tZW5kYWRvIMOpIGJhaXhhciBvcyBkYWRvcyBwcmltZWlybywgb3JnYW5pemFyIGUgZGVwb2lzIGNoYW1hciBhIHBsYW5pbGhhIGNvbnNvbGlkYWRhIHBhcmEgbyBObyBzaXRlLCBzw7MgY29uc2VndWkgZXNzYSBleHRyYXRpZmljYcOnw6NvIHBhcmEgYXDDs3MgMjAwNi4gU3VnaXJvIG9saGFyIG8gdmlkZW8gaWx1c3RyYXRpdm8gZW0gPGh0dHBzOi8veW91dHUuYmUvYjkzbF9UM3hoaUE+LiAgICANCg0KQ3JpZWkgdW1hIGZ1bsOnw6NvIHBhcmEgcmVhbGl6YXIgYXMgb3BlcmHDp8O1ZXMgY29uZm9ybWUgYSBmw7NybXVsYSBkZSBDTCBhY2ltYS4NCg0KYGBge3IgQ0xfZnVuY3Rpb259DQpDTCA8LSBmdW5jdGlvbiAobWF0KSB7DQogIG1hdCA8LSBhcy5tYXRyaXgobWF0KSANCiAgc2hhcmVfdGVjaF9jaXR5IDwtIHQocm91bmQodChtYXQpL3Jvd1N1bXModChtYXQpKSw0KSkgICNyZWdpb25hbCBzaGFyZXMNCiAgc2hhcmVfdGVjaF90b3RhbCA8LSBjb2xTdW1zKHQobWF0KSkvc3VtKHQobWF0KSkgIyByZWdpb25hbCBzaGFyZSB0b3RhbA0KICBDTCA8LSBhYnMoc2hhcmVfdGVjaF9jaXR5LXNoYXJlX3RlY2hfdG90YWwpDQogIENMW2lzLm5hKENMKV0gPC0gMA0KICBDTDwtMC41KmNvbFN1bXMoQ0wpDQogIHJldHVybihDTCkNCn0NCmBgYA0KDQpVdGlsaXphcmVpIGEgbWVzbWEgbWF0cml6IGLDoXNpY2EgKGBtYXRfMGApIHBhcmEgMjAwNiBlIG1hdF8xIHBhcmEgMjAxNiwgY29tbyBlbSBGaWd1ZWlyZWRvICgyMDIwYykuICAgIA0KDQoqICAgUGFyYSAyMDA2Og0KDQpgYGB7cn0NCmxpYnJhcnkocmVhZHhsKQ0KZGFkb3NlbXByZWdvIDwtIHJlYWRfZXhjZWwoImVtcHJlZ28ueGxzeCIsIHNoZWV0ID0gIjIwMDYiKQ0KbWF0XzAgPC0gYXMubWF0cml4KGRhZG9zZW1wcmVnb1sxOjc5LDI6ODhdKSAjIDIwMDYNCmNsLm1zXzA8LXJvdW5kKENMKG1hdF8wKSw0KQ0Kc2hhcmVfdGVjaF9jaXR5IDwtIHQocm91bmQodChtYXRfMCkvcm93U3Vtcyh0KG1hdF8wKSksNCkpICAjcmVnaW9uYWwgc2hhcmVzDQpzaGFyZV90ZWNoX3RvdGFsIDwtIGNvbFN1bXModChtYXRfMCkpL3N1bSh0KG1hdF8wKSkgIyByZWdpb25hbCBzaGFyZSB0b3RhbA0KYGBgDQoNCg0KKiAgIFBhcmEgMjAxNjoNCg0KYGBge3J9DQpkYWRvc2VtcHJlZ29fMSA8LSByZWFkX2V4Y2VsKCJlbXByZWdvLnhsc3giLCBzaGVldCA9ICIyMDE2IikNCm1hdF8xPC1hcy5tYXRyaXgoZGFkb3NlbXByZWdvXzFbMTo3OSwyOjg4XSkgIyAyMDE2DQpjbC5tc18xPC1yb3VuZChDTChtYXRfMSksNCkNCkNMLk1TPC1jYmluZChjbC5tc18wLGNsLm1zXzEpDQpjb2xuYW1lcyhDTC5NUyk8LWMoIkNMLjIwMDYiLCJDTC4yMDE2IikNCmtuaXRyOjprYWJsZShDTC5NUykNCiMgc2FsdmFyIGRhdGEuZnJhbWVzIHBhcmEgY3N2IGNvbSB3cml0ZS5jc3YoKSBvdSBwYXJhIGV4Y2VsDQp3cml0ZXhsOjp3cml0ZV94bHN4KGFzLmRhdGEuZnJhbWUoQ0wuTVMpLCJjbG1zMjAwNl8yMDE2Lnhsc3giKQ0KYGBgDQoNClBvdGVuY2lhbCBkZSBNZXJjYWRvDQo9PT09PT09PT09PT09PT09PT09PT09DQoNCkNldGVyaXMgcGFyaWJ1cyBlIGludHVpdGl2YW1lbnRlLCB1bSBwb3RlbmNpYWwgZGUgbWVyY2FkbyBlbGV2YWRvIGluZGljYSBvIHF1w6NvIGF0cmFlbnRlIHBhcmEgYXMgYXRpdmlkYWRlcyBlY29uw7RtaWNhcyB1bWEgcmVnacOjbyDDqS4gQSBwcm94aW1pZGFkZSBkZSBtZXJjYWRvcyDDqSB2YW50YWpvc2EgcGFyYSBhcyBlbXByZXNhcyB1bWEgdmV6IHF1ZSBmb3JuZWNlZG9yZXMgZSBjb25zdW1pZG9yZXMgZXN0YXLDo28gbWFpcyBhY2Vzc8OtdmVpcy4gT2J2aWFtZW50ZSwgZXhpc3RlbSBvdXRyYXMgZm9yw6dhcyBlbSBqb2dvLCBtYXMgYXMgbWVkaWRhcyBkZSBwb3RlbmNpYWwgZGUgbWVyY2FkbyBidXNjYW0gY2FwdHVyYXIgZXhhdGFtZW50ZSB0YWwgcHJveGltaWRhZGUuICAgDQpQb2RlLXNlIGVudMOjbyBpZGVudGlmaWNhciBvIGNlbnRybyBlY29uw7RtaWNvIGRlIHVtYSByZWdpw6NvIGUgY2FsY3VsYXIgcXXDo28gcHLDs3hpbW8gc2UgZXN0w6EgZGVzdGUgY2VudHJvLg0KDQojIyBDZW50cm8gZWNvbsO0bWljbyAoQ0VDKQ0KDQpPIGNlbnRybyBlY29uw7RtaWNvIHBvbmRlcmFkbyBkZSB1bSBwYcOtcyBwb2RlIHNlciBpZGVudGlmaWNhZG8gZW5jb250cmFuZG8gYXMgY29vcmRlbmFkYXMgZG8gY2VudHJvICQoeF9tLHlfbSkkLCBjb25mb3JtZToNCg0KJCQNCnt4X219ID0gXHN1bVxsaW1pdHNfe2kgPSAxfV5uIHtcbGVmdCgge3t4X2l9XGZyYWN7e1BJe0JfaX19fXt7XHN1bVxsaW1pdHNfe2kgPSAxfV5uIHtQSXtCX2l9fSB9fX0gXHJpZ2h0KX0NCiQkDQplDQoNCiQkDQp7eV9tfSA9IFxzdW1cbGltaXRzX3tpID0gMX1ebiB7XGxlZnQoIHt7eV9pfVxmcmFje3tQSXtCX2l9fX17e1xzdW1cbGltaXRzX3tpID0gMX1ebiB7UEl7Ql9pfX0gfX19IFxyaWdodCl9DQokJA0KDQpvbmRlICR5X2kkLCAkeF9pJCBzw6NvIGxhdGl0dWRlcyBlIGxvbmdpdHVkZXMgZG9zIGNlbnRyb2lkZXMgZGUgY2FkYSByZWdpw6NvICRpJCBlICRQSUJfaSQgcmVmZXJlLXNlICBhbyAgUHJvZHV0byAgSW50ZXJubyAgQnJ1dG8sICBvdSAgb3V0cmEgIHZhcmnDoXZlbCAgZWNvbsO0bWljYSAgcmVsZXZhbnRlLiANCg0KUG9ydGFudG8sIHNlamEgdW0gZGF0YXNldCBjb250ZW5kbyBvcyB2YWxvcmVzIGRvcyBQSUIgbXVuaWNpcGFpcyBlIHJlc3BlY3RpdmFzIGNvb3JkZW5hZGFzIGRvcyBjZW50csOzaWRlcy4gU2VqYSBvIGV4ZW1wbG8gZGUgY8OhbGN1bG8gZG8gUG90ZW5jaWFsIGRlIE1lcmNhZG8gY29uZm9ybWUgTW9uYXN0ZXJpbyAoMjAxMSkgKEhBUlJJUywgMTk1NCBhcHVkIEJSQUtNQU4sIEdBUlJFVFNFTiBlIE1BUlJFV0lKSywgMjAwMywgcC4gMzUtMzcpLiBPIHBvdGVuY2lhbCBkZSBtZXJjYWRvIGRlIHVtYSByZWdpw6NvIMOpIGRlZmluaWRvIGNvbW86DQoNCg0KYGBge3J9DQojIHZhcmlhdmVpcyBkbyBkYXRhc2V0LCBhIHBhcnRpciBkbyBzaGFwZWZpbGUgZG8gSUJHRSBlIGFkYXB0YWRvDQojIDc5IG11bmljaXBpb3MgZGUgTWF0byBHcm9zc28gZG8gU3VsLCAyMDAyLTIwMTUNCmxpYnJhcnkocmVhZHhsKTsgbGlicmFyeShmb3JlaWduKQ0KbG9hZCgiZGFkb3MucG90LlJkYSIpDQoNCiNWaWV3KGRhZG9zLnBvdCkNCmF0dGFjaChkYWRvcy5wb3QpDQojIGNvZG11biAtIGNvZGlnbyBkbyBtdW5pY2lwaW8gbm8gSUJHRSA3IGRpZ2l0b3MNCiMgbm9tZW11biAtIG5vbWUgZG8gbXVuaWNpcGlvDQojIGxhdCAtIGxhdGl0dWRlIGNvbmZvcm1lIGNvbnN0YSBubyBzaGFwZWZpbGUgZG8gSUJHRQ0KIyBsb25nIC0gbG9uZ2l0dWRlIGNvbmZvcm1lIGNvbnN0YSBubyBzaGFwZWZpbGUgZG8gSUJHRQ0KIyBwaWIgLSBwaWIgbXVuaWNpcGFsICBlbSB2YWxvcmVzIGNvcnJlbnRlcyAoUiQgMTAwMCkgU0NOIDIwMTANCnBpYjwtZGFkb3MucG90Wzg5OjEwMl0NCiMgcG9wIC0gcG9wdWxhY2FvIG11bmljaXBhbCBlc3RpbWFkYSBwZWxvIElCR0UgcGFyYSBvIFRDVQ0KcG9wPC1kYWRvcy5wb3RbMTAzOjExNl0NCiMgcGlicGMgLSBwaWIgcGVyIGNhcGl0YSBtdW5pY2lwYWwgZW0gdmFsb3JlcyBjb3JyZW50ZXMgDQpwaWJwYzwtZGFkb3MucG90WzExNzoxMzBdDQojIE1QaSAsIG8gcG90ZW5jaWFsIGRlIG1lcmNhZG8gZGEgcmVnacOjbyBpLCDDqSBvDQojIHNvbWF0w7NyaW8gZGEgZGVtYW5kYSBub3MgbG9jYWlzIGogKE1qKSwgDQojIHBvbmRlcmFkYSBwZWxhIGRpc3TDom5jaWEgZW50cmUgaSBlIGogKERpaikuIA0KYGBgDQoNCk5lc3RlIGV4ZW1wbG8gZmFyZW1vcyBvIHVzbyBkYSBkaXN0w6JuY2lhIGFvIGNlbnRybyBlY29ub21pY28gY29tbyBhIGRpc3RhbmNpYSBwYXJhIGF2YWxpYWNhbyBkbyBwb3RlbmNpYWwgZGUgbWVyY2Fkby4NCg0KYGBge3J9DQojIGRldGVybWluYWNhbyBkbyBjZW50cm8gZWNvbm9taWNvLCBjb21wb3N0byBkZSB1bWEgbGF0aXR1ZGUgZSBsb25naXR1ZGUNCiMgcGFzc28gMTogY2FsY3VsbyBkYSBwYXJjZWxhIGRvIFBJQiBtdW5pY2lwYWwgbm8gUElCIGVzdGFkdWFsDQphdHRhY2gocGliKTthdHRhY2goZGFkb3MucG90KQ0KU2k8LXBpYjIwMTUvKHN1bShwaWIyMDE1KSkNCnhjLnBpYjIwMTU8LUkobG9uZypTaSkNCnljLnBpYjIwMTU8LUkobGF0KlNpKQ0KeG08LXN1bSh4Yy5waWIyMDE1KSAjIGNvb3JkZW5hZGEgZG8gY2VudHJvIGVjb25vbWljbw0KeW08LXN1bSh5Yy5waWIyMDE1KQ0KIyBjb29yZGVuYWRhcyBkbyBjZW50cm8gZWNvbm9taWNvIGVtIFVUTSBtZXRyb3MNCmNlbnRyby5lY29ub21pY288LWMoeG0seW0pDQpjZW50cm8uZWNvbm9taWNvDQojIC01NC4yNjIwMCwtMjAuOTIyODUNCmBgYA0KDQpPIHJlc3VsdGFkbyBncsOhZmljbyBwb2RlIHNlciBwbG90YWRvIG5vIEdvb2dsZSBNYXBzIG91IEdvb2dsZSBFYXJ0aCBjb21vIGFiYWl4bzoNCg0KIVsqUGxvdGFnZW0gZG8gY2VudHJvIGVjb27DtG1pY28gZGUgTVMgZW0gMjAxNSpdKGNlbnRybzIwMTUucG5nKQ0KDQojIyMgRGlzdGFuY2lhIGRvIG11bmljaXBpbyBhbyBjZW50cm8gZWNvbm9taWNvIChEKQ0KDQpVbWEgdmV6IGVzdGltYWRvIG8gY2VudHJvIGVjb27DtG1pY28sIMOpIGNhbGN1bGFkYSBhIGRpc3TDom5jaWEgZW50cmUgZXN0ZSBlIG9zIGNlbnRyb3MgZGFzIG91dHJhcyByZWdpw7Vlcy4gUGFyYSBvIGPDoWxjdWxvIGRhIGRpc3TDom5jaWEgZXVjbGlkaWFuYSBkYSByZWdpw6NvIGkoZGlzdGkpIGFvIGNlbnRybyBlY29uw7RtaWNvLCBiYXN0YSBjYWxjdWxhcjoNCg0KJCQNCmRpc3t0X2l9ID0gXHNxcnQge3t7KHt4X2l9IC0ge3hfbX0pfV4yfSArIHt7KHt5X2l9IC0ge3lfbX0pfV4yfX0gDQokJA0KDQpTZWd1ZSBvIGPDs2RpZ28gZW0gUiwgdXRpbGl6YW5kbyBvIHBhY290ZSBgZ2Vvc3BoZXJlYCBlIGEgZnVuw6fDo28gYGRpc3RHZW9gOg0KDQpgYGB7cn0NCmF0dGFjaChwaWIpO2F0dGFjaChkYWRvcy5wb3QpDQojIGRpc3RhbmNpYSBkbyBtdW5pY2lwaW8gYW8gY2VudHJvIGVjb25vbWljbw0KI2Rpc3QuY2U8LXNxcnQoKGxvbmcteG0pXjIrKGxhdC15bSleMikNCiNkaXN0LmNlDQpsaWJyYXJ5KGdlb3NwaGVyZSk7YXR0YWNoKGRhZG9zLnBvdCkNCiMgY2FsY3VsbyBpbmRpdmlkdWFsIHBhcmEgQWd1YSBDbGFyYQ0KZGlzdC5jZTwtZGlzdEdlbyhjKC01Mi44NzgsLTIwLjQ0OCksYygtNTQuMjYyMDAsLTIwLjkyMjg1KSkgIA0KIyBkaXN0YW5jaWEgZW0gbWV0cm9zDQpkaXN0LmNlDQojIGRpc3RhbmNpYSBlbSBrbQ0KZGlzdC5jZS8xMDAwDQojIENhbGN1bG8gcGFyYSB0b2RvcyBvcyBtdW5pY2lwaW9zDQpkaXN0LnRlc3RlPC1jYmluZChsb25nLGxhdCkNCmRpc3QuY2UuYWxsPC1kaXN0R2VvKGRpc3QudGVzdGUsYygtNTQuMjYyMDAsLTIwLjkyMjg1KSkNCmRpc3Qua20uYWxsPC1kaXN0LmNlLmFsbC8xMDAwDQpkYWRvcy5mdWxsPC1jYmluZChkYWRvcy5wb3QsU2kseGMucGliMjAxNSx5Yy5waWIyMDE1LGRpc3Qua20uYWxsKQ0KYGBgDQoNCg0KIyMgUG90ZW5jaWFsIGRlIG1lcmNhZG8gcGFyYSBjb20gbyBjZW50cm8gZWNvbsO0bWljbyAoUE0pDQoNCg0KYGBge3J9DQojIHBvdGVuY2lhbCBkZSBtZXJjYWRvIHBhcmEgY29tIG8gY2VudHJvIGVjb25vbWljbw0KIyBEaWogPSBkaXN0LmttLmFsbA0KIyBNUGkgPSBzb21hKE1qL0RpaikNCiMgcGFyYSBNaiA9IHBpYioxMDAwDQpNUG11bjIwMTU8LXBpYjIwMTUqMTAwMC9kaXN0LmttLmFsbA0KTVAuQ0U8LXN1bShNUG11bjIwMTUpICAgICAjUkVUSVJBUiBEQSBTT01BIE8gTVVOSUNJUElPIERFIFJFRkVSRU5DSUEhDQpNUC5DRQ0KZGFkb3MuZnVsbDwtY2JpbmQocGliLFNpLHhjLnBpYjIwMTUseWMucGliMjAxNSxkaXN0LmttLmFsbCxNUG11bjIwMTUpDQp0YWJlbGE8LWNiaW5kKG5vbWVtdW4sTVBtdW4yMDE1KQ0Kd3JpdGV4bDo6d3JpdGVfeGxzeChhcy5kYXRhLmZyYW1lKGRhZG9zLmZ1bGwpLCJkYWRvc3BvdC54bHN4IikNCiANCmBgYA0KDQoNCsONbmRpY2UgZGUgbG9jYWxpemHDp8OjbyBkZSBFbGxpc29uLUdsYWVzZXIgKEVHSSkNCj09PT09PT09PT09PT09PT09PT09PT0NCg0KTyDDjW5kaWNlIGRlIGxvY2FsaXphw6fDo28gZGUgRWxsaXNvbi1HbGFlc2VyICgkRUdJX2skKSBwYXJhIHVtIHNldG9yICRrJCBlbnRyZSBvcyBtdW5pY8OtcGlvcyAkaSQgw6kgdW1hIHN1Z2VzdMOjbyBkZSBFbGxpc29uIGUgR2xhZXNlciAoMTk5NykgY29tbyBmb3JtYSBkZSBjb3JyZWPDp2FvIGRvcyBpbmRpY2Fkb3JlcyBjbMOhc3NpY29zIHRpcG8gY29lZmljaWVudGUgZGUgbG9jYWxpemHDp8OjbyBkZSBGbG9yZW5jZSBvdSBIb292ZXIsIG91IEdpbmkuIENvbmZvcm1lIEZlc2VyICgyMDAwKSwgdW1hIGRpZmVyZW7Dp2EgaW1wb3J0YW50ZSDDqSBxdWUgZWxlIGRlcml2YSBkZSB1bWEgdGVvcmlhIGV4cGzDrWNpdGEgZG8gY29tcG9ydGFtZW50byBkYSBsb2NhbGl6YcOnw6NvIGRhIGZpcm1hLiAgICANCg0KTyDDrW5kaWNlIGNvbnNpZGVyYSBhIGNvbmNlbnRyYcOnw6NvIGNvbW8gYSBhZ2xvbWVyYcOnw6NvIGFjaW1hIGRvIHF1ZSBzZSBvYnNlcnZhcmlhIHNlIGFzIGZpcm1hcyBzZSBsb2NhbGl6YXNzZW0gZGUgbW9kbyBhbGVhdMOzcmlvLiBQZWxvIGFyZ3VtZW50byBkZXN0ZXMgYXV0b3JlcywgbyAkRUdJX2skIHNlcmlhIHJvYnVzdG8gw6BzIGRpZmVyZW7Dp2FzIG5vIG7DrXZlbCBkZSBhZ3JlZ2HDp8OjbyBlc3BhY2lhbCwgY29udHJvbGFuZG8gYXMgZGlmZXJlbsOnYXMgZGEgZGlzdHJpYnVpw6fDo28gZG9zIGVzdGFiZWxlY2ltZW50b3MgZW50cmUgZGlmZXJlbnRlcyBzZXRvcmVzLCBlIHBvcnRhbnRvIGNvbnNpZGVyYSBvIGZhdG8gZGUgcXVlIGEgY29uY2VudHJhw6fDo28gZXNwYWNpYWwgZW0gcGFydGUgZGVyaXZhIGRhIGNvbmNlbnRyYcOnw6NvIHNldG9yaWFsLiBJc3RvIGZhY2lsaXRhcmlhIGEgY29tcGFyYcOnw6NvIHNldG9yaWFsIGVudHJlIHBhw61zZXMgZGlzdGludG9zLCBwb3IgZXhlbXBsby4gICAgIA0KDQpBIGV4cHJlc3PDo28gZG8gw61uZGljZSDDqToNCg0KJCQNCkVHSV9rID0gXGZyYWN7e0cgLSBcbGVmdCggezEgLSBcc3VtXGxpbWl0c19pIHt4X2leMn0gfSBccmlnaHQpSH19e3tcbGVmdCggezEgLSBcc3VtXGxpbWl0c19pIHt4X2leMn0gfSBccmlnaHQpXGxlZnQoIHsxIC0gSH0gXHJpZ2h0KX19DQokJA0KDQpQYXJhIG8gw61uZGljZSBkZSBjb25jZW50cmHDp8OjbyBkZSBIZXJmaW5kYWhsICRIJA0KDQokJA0KSCA9IHtcc3VtXGxpbWl0c197aSA9IDF9Xk0ge1xsZWZ0KCB7XGZyYWN7e3tFX3traX19fX17RX19IFxyaWdodCl9IF4yfQ0KJCQNCm91IHNlamEsICRIJCDDqSBvIHNvbWF0w7NyaW8gZG8gdm9sdW1lIGRlIGVtcHJlZ29zIGRvIHNldG9yICRrJCBuYSByZWdpw6NvICRpJCAoJEVfa2kkKSwgZW0gcmF6w6NvIGRvIHZvbHVtZSBkZSBlbXByZWdvcyB0b3RhbCAoJEUkKSBlLCAgIA0KDQoNCiQkDQpHID0ge1xzdW1cbGltaXRzX3tpID0gMX0ge1xsZWZ0KCB7XGZyYWN7e3tFX3traX19fX17e3tFX2t9fX0gLSBcZnJhY3t7e0VfaX19fXtFfX0gXHJpZ2h0KX0gXjJ9DQokJA0KZW0gcXVlICRHJCDDqSBvIHNvbWF0w7NyaW8gZG8gcXVhZHJhZG8gZGEgZGlmZXJlbsOnYSBlbnRyZSBhIHBhcmNlbGEgZG8gZW1wcmVnbyBkbyBzZXRvciAkayQgbmEgcmVnacOjbyAkaSQgdm9sdW1lIGRlIGVtcHJlZ29zIGRvIHNldG9yICRrJCBuYSByZWdpw6NvICRpJCAoJEVfe2tpfS9FX2skKSwgZSBhIHBhcmNlbGEgZG8gZW1wcmVnbyBpbmR1c3RyaWFsIG5hIMOhcmVhICgkeF9pID0gRV9pIC9FJCkuDQogICANCk8gw61uZGljZSBkZSBFbGxpc29uLUdsYWVzZXIsIHBvcnRhbnRvLCBjb25zaWRlcmEgYSBjb25jZW50cmHDp8OjbyBzZXRvcmlhbCAkSCQgZW0gc3VhIGbDs3JtdWxhLCBlbSBxdWUgJDBcbGUgSFxsZTEkLiBNZW5vcmVzIHZhbG9yZXMgZGUgJEVHSV9rJCBpbmRpY2FtIGZyYWNhIGxvY2FsaXphw6fDo28sIHBvciBleGVtcGxvIGVudHJlIDAgZSAwLDAyLCBlIHZhbG9yZXMgZGUgJEVHSV9rJCBtYWlvcmVzIHF1ZSAwLDA1IGluZGljYW0gaW50ZW5zYSBsb2NhbGl6YcOnw6NvIChNb25hc3TDqXJpbywgMjAxMSkuDQpFeGlzdGUgbyByaXNjbyBkZSB1bWEgbcOhIGludGVycHJldGHDp8OjbywgcG9yIGV4ZW1wbG8sIGltYWdpbmFuZG8gc2UgdGVyIGNvbmNlbnRyYcOnw6NvIGVzcGFjaWFsICANCg0KYGBge3J9DQpsaWJyYXJ5KHJlYWR4bCkNCmRhZG9zZW1wcmVnbyA8LSByZWFkX2V4Y2VsKCJlbXByZWdvLnhsc3giLCBzaGVldCA9ICIyMDA2IikNCiNWaWV3KGRhZG9zZW1wcmVnbykNCiMgYXR0YWNoKGRhZG9zZW1wcmVnbykNCiMgZWk8LXJvd1N1bXMoYXMubWF0cml4KGRhZG9zZW1wcmVnb1ssMjo4OF0pKQ0KRTwtY29sU3VtcyhkYWRvc2VtcHJlZ29bLDg5XSwgZGltcyA9IDEpDQplaTwtZGFkb3NlbXByZWdvWyw4OV0gIA0KIyBlaSDDqSBvIGVtcHJlZ28gdG90YWwgZGEgcmVnaWFvIGksIA0KIyBFIMOpIG8gZW1wcmVnbyB0b3RhbCBNUw0KIyBFayDDqSBvIGVtcHJlZ28gdG90YWwgTVMgZG8gc2V0b3Igaw0KRWs8LSB0KGNvbFN1bXMoZGFkb3NlbXByZWdvWywyOjg4XSwgZGltcyA9IDEpKQ0KIyBmdW7Dp8OjbyBFR0kNCkVHSSA8LQ0KICBmdW5jdGlvbiAoZWtpLCBlaSwgRWssIEUpIHsNCiAgICAgICAgc19raSA8LSBla2kvRWsNCiAgICAgICAgc19pIDwtIGVpL0UgIA0KICAgICAgICBHIDwtIHN1bSgoc19raS1zX2kpXjIpDQogICAgICAgIEg8LSBzdW0oKGVraS9FKV4yKQ0KICAgICAgICBaPC0gMS1zdW0oKHNfaV4yKSkNCiAgICAgICAgRUdrPC0oKEctWipIKS8oWiooMS1IKSkpDQogICAgcmV0dXJuKEVHaykNCiAgfQ0KDQojIHRlc3RlIC0gZGl2aXNhbyAyDQpFR0kuZGl2PC1FR0koZGFkb3NlbXByZWdvJGBBR8OKTkNJQVMgREUgVklBR0VOUywgT1BFUkFET1JFUyBUVVLDjVNUSUNPUyBFIFNFUlZJw4dPUyBERSBSRVNFUlZBU2AsDQogICAgICAgICAgICAgZWksIEVrWzEsMl0sIEUpDQpFR0kuZGl2DQpgYGANCg0KUG9ydGFudG8sIHVtIGluZGljYWRvciAkRUdJPTAuMDQ5NTkkIGluZGljYSB1bWEgbcOpZGlhIHBhcmEgaW50ZW5zYSBsb2NhbGl6YcOnw6NvIHNlZ3VuZG8gRWxsaXNvbi1HbGFlc2VyLiANClBvZGUtc2UgZ2VuZXJhbGl6YXIgYSBmdW7Dp8OjbyBwYXJhIHRvZG9zIG9zIHNldG9yZXMgJGskLCBhdXRvbWF0aXphciBwYXJhIHRvZGFzIGFzIGNvbHVuYXMgZSBhbm8gZGUgMjAwNjoNCg0KYGBge3IsIGV2YWw9VFJVRX0NCnJlcXVpcmUoa25pdHIpDQojIEVHSSA8LSBmdW5jdGlvbiAoZWtpLCBlaSwgRWssIEUpDQojIHJldGlyYXIgemVyb3MgZGUgcGFyYWlzbyBkYXMgYWd1YXMNCg0KZGFkb3MyPC1kYWRvc2VtcHJlZ29bLWMoNTgpLF0NCiNWaWV3KGRhZG9zMikNCmVpPC1kYWRvczIkYFRvdGFsIEdlcmFsYA0KRTwtY29sU3VtcyhkYWRvczJbLDg5XSwgZGltcyA9IDEpDQpFazwtIHQoY29sU3VtcyhkYWRvczJbLDI6ODhdLCBkaW1zID0gMSkpDQpzZXRvcmVzPC1uYW1lcyhkYWRvczJbLDI6ODhdKQ0KIyBpbmljaWFsaXphciBFR0kNCkVHSS5NUy4yMDA2PC0wDQoNCmZvciAoayBpbiAxOjg3KXsNCiAgZGFkb3NlbXAyPC1kYWRvczJbMTo3OCxrKzFdDQogIEVHSS4yMDA2PC1FR0koZGFkb3NlbXAyLCBlaSwgRWtbMSxrXSwgRSkNCiAgRUdJLk1TLjIwMDZba108LUVHSS4yMDA2DQp9DQpFR0kuTVMuMjAwNjwtY2JpbmQoKG5hbWVzKGRhZG9zMlssMjo4OF0pKSxyb3VuZChFR0kuTVMuMjAwNiw0KSkNCndyaXRleGw6OndyaXRlX3hsc3goYXMuZGF0YS5mcmFtZShFR0kuTVMuMjAwNiksIkVHSU1TMjAwNi54bHMiKQ0KDQprbml0cjo6a2FibGUoRUdJLk1TLjIwMDYpDQpgYGANCg0KDQrDjW5kaWNlIGRlIHNlcGFyYcOnw6NvIGVzcGFjaWFsIG91IGRlIFZlbmFibGVzIChWKQ0KPT09PT09PT09PT09PT09PT09PT09PQ0KDQpPIMONbmRpY2UgZGUgU2VwYXJhw6fDo28gRXNwYWNpYWwgKCRJU1AkKSBvdSB0YW1iw6ltIGNoYW1hZG8gw61uZGljZSBkZSBWZW5hYmxlcyAoJFYkKSBzdXJnZSBwYXJhIGNvbnNpZGVyYXIgYXMgZGlzdMOibmNpYXMgZW50cmUgYXMgbG9jYWxpZGFkZXMgZW0gcXVlIHNlIHNpdHVhbSBjZXJ0YXMgYXRpdmlkYWRlcyBlY29uw7RtaWNhcy4gTyBjb2VmaWNpZW50ZSBkZSBsb2NhbGl6YcOnw6NvICgkQ0wkKSBuw6NvIHNlIGFsdGVyYSBxdWFuZG8gbG9jYWxpZGFkZXMgdMOqbSBjb25jZW50cmHDp8OjbyBpbmR1c3RyaWFsIG1hcyBldMOjbyBtYWlzIChvdSBtZW5vcykgZGlzdGFudGVzIGVucmUgc2kuIERlc3RhIGZvcm1hLCBNaWRkZWxmYXJ0LUtuYXJ2aWsgZXQgYWwgKDIwMDIpIHByb3B1c2VyYW0gbyAkSVNQJCBjb21vOg0KDQokJCANCklTUF9rPVxzdW1faSBcc3VtX2oge3Nfe2lrfSBzX3tqa30gXGRlbHRhX3tpan19DQokJA0KZW0gcXVlICRpJCBlICRqJCBzw6NvIGFzIGxvY2FsaWRhZGVzIGRvIHNldG9yICRrJCBlICRcZGVsdGFfe2lqfSQgw6kgYSBkaXN0w6JuY2lhIGVudHJlICRpJCBlICRqJC4gRW0gdGVybW9zIG1hdHJpY2lhaXMsIHBvZGUtc2UgcmVlc2NyZXZlciBhIGV4cHJlc3PDo28gZGEgZm9ybWE6DQoNCiQkDQpJU1AgPSBWID0gUycgRCBTDQokJA0KDQplbSBxdWUgJFNfayQgw6kgbyB2ZXRvciBkYSBwYXJ0aWNpcGHDp8OjbyBkbyBzZXRvciAkayQgbmFzIGxvY2FsaWRhZGVzIGUgJEQkIGEgbWF0cml6IGRlIGRpc3TDom5jaWFzLiAgICAgIA0KTyBJU1Agw6ksIHBvcnRhbnRvLCBjb21vIHVtYSDigJhtw6lkaWHigJkgcG9uZGVyYWRhIGRhcyBkaXN0w6JuY2lhcyBlbnRyZSBtdW5pY8OtcGlvcyBvbmRlICBzZSAgbG9jYWxpemFtICBvcyAgZW1wcmVnb3MgIGRhICBmb3LDp2EgIGRlIHRyYWJhbGhvICBub3MgIHJlc3BlY3Rpdm9zICBwYXJlcyAgZGUgbG9jYWxpZGFkZXMuIFNldSBpbnRlcnZhbG8gZGUgdmFyaWHDp8OjbyDDqSBkYWRvIHBlbGEgZGlzdMOibmNpYSBvYnNlcnZhZGEgZW50cmUgb3MgcGFyZXMgZGUgcmVnacO1ZXMuIFF1YW50byBtZW5vciBvIHZhbG9yIGRvIElTUCwgbWFpcyBjb25jZW50cmFkYSBlc3BhY2lhbG1lbnRlIGVzdMOhIG8gc2V0b3IuIE8gJElTUF9rJCBhc3N1bWUgdmFsb3IgemVybyBwYXJhIGNvbmNlbnRyYcOnw6NvIHBlcmZlaXRhIGVtIHVtYSBzw7MgbG9jYWxpZGFkZSwgZSBhdW1lbnRhIHF1YW50byBtYWlzIGRpc3RhbnRlcyBlc3RpdmVyZW0uDQpTb3VzYSAoMjAwMikgY2FsY3Vsb3UgbyBJU1AgcGFyYSBkaXZlcnNvcyByYW1vcyBkYSBpbmTDunN0cmlhIGJyYXNpbGVpcmEsIGVtIG7DrXZlbCBlc3RhZHVhbCwgZW50cmUgMTk3MCBlIDE5OTcuIFNldXMgcmVzdWx0YWRvcyBzdWdlcmVtLCBlbSBsaW5oYXMgZ2VyYWlzLCB1bSBpbmNyZW1lbnRvIGRhIHNlcGFyYcOnw6NvIGRhIGluZMO6c3RyaWEgZGUgdHJhbnNmb3JtYcOnw6NvIGFvIGxvbmdvIGRvIHBlcsOtb2RvLg0KDQoNCsONbmRpY2UgZGUgY2VudHJhbGlkYWRlIHVyYmFuYSAoVUNJKSANCj09PT09PT09PT09PT09PT09PT09PT0NCg0KTyBjw7NkaWdvIHBhcmEgY2FsY3VsYXIgYSBjZW50cmFsaWRhZGUgdXJiYW5hIGNvbnTDqW0gdW0gZGlzcG9zaXRpdm8gcGFyYSBhYnJpciB1bSBwb3AtdXAgZGUgbW9kbyBxdWUgbyBsZWl0b3IgZXNjb2xoYSBvIGFycXVpdm8gc2hhcGUgYSBzZXIgdXRpbGl6YWRvLiBEZXN0YSBmb3JtYSwgbyBSTWFya2Rvd24gbsOjbyBjb25zZWd1ZSBhYnJpciBhdXRvbWF0aWNhbWVudGUgbyBzaGFwZSBzZW0gYSBpbnRlcnZlbsOnw6NvIGh1bWFuYS4NCkVzdGFyZW1vcyBjb3JyaWdpbmRvIGVzdGEgbW9kYWxpZGFkZSBkZSBtb2RvIGEgZmF6ZXIgbyBjw6FsY3VsbyBhdXRvbcOhdGljbywgZXNwZWNpZmljYW5kbyBmb3JhIGRlIGB1Y2kuUmAgbyBgZmlsZV9uYW1lYCwgbyBxdWFsIGluZGljYSBvIHNoYXBlZmlsZSBhIHNlciB1dGlsaXphZG8sIG9uZGUgZXN0w6NvIG9zIGRhZG9zIGRlIGVtcHJlZ28gcG9yIHNldG9yZXMgZSBsb2NhbGlkYWRlcy4NCkRlbnRybyBkbyBgdWNpLlJgLCBhIGxpbmhhIHF1ZSBjaGFtYXZhIHBhcmEgZXNjb2xoYSBkbyBzaGFwZWZpbGUgZm9pICIjY29tZW50YWRhIi4NCg0KYGBge3IsIGV2YWw9VH0NCiMgSW5kaWNlIGRlIENlbnRyYWxpZGFkZSBVcmJhbmEgKFVDSSkNCiMgZXN0ZSDDrW5kaWNlIHV0aWxpemEgdHLDqnMgaW5kaWNhZG9yZXMgcGFyYSBzZXUgY8OhbGN1bG8gKFYsIFAsIGUgQ0wpDQojIFAgPSBwcm94aW1pZGFkZQ0KIyBWID0gVmVuYWJsZXMNCiMgQ0wgPSBjb2VmaWNpZW50ZSBkZSBsb2NhbGl6YcOnw6NvIGRlIEZsb3JlbmNlICgxOTQ4KQ0KIyB1dGlsaXphcmVtb3MgYSByb3RpbmEgZGUgUGVyZWlyYSBldCBhbCAoMjAxMikNCg0KIyB0cmFiYWxoYXJlbW9zIGNvbSBzaGFwZSBwYXJhIG9idGVyIG9zIGNlbnRyb2lkZXMgZSBhcyBkaXN0YW5jaWFzDQpsaWJyYXJ5KGZvcmVpZ24pOyBsaWJyYXJ5KGZpZWxkcyk7IGxpYnJhcnkoc3ApOyBsaWJyYXJ5KHJnZW9zKTsgbGlicmFyeShtYXB0b29scykNCm9wdGlvbnMoZGlnaXRzPTUpDQoNCiMgY29sb3F1ZSBvcyBzaGFwZWZpbGVzIG5vIG1lc21vIGRpcmV0b3JpbyBkbyBwcm9qZXRvDQojIHV0aWxpemFyZW1vcyBvcyBzaGFwZSBkZSBub21lICdBRURfTVM3OV9lbXByZWdvMTYnDQojIGZ1bsOnw6NvIFVDSSBzZXLDoSBhcm1hemVuYWRhIMOgIHBhcnRlDQpmaWxlX25hbWUgPDwtIn4vZGlzY2lwbGluYXMvZWNvbm9taWEgcmVnaW9uYWwvbGFib3JhdG9yaW8gUi9pbmRpY2Fkb3Jlc18zL0FFRF9NUzc5X2VtcHJlZ28xNi5zaHAiDQpzb3VyY2UoIn4vZGlzY2lwbGluYXMvZWNvbm9taWEgcmVnaW9uYWwvbGFib3JhdG9yaW8gUi9pbmRpY2Fkb3Jlc18zL3VjaS5SIikNCiMgcnVuIFVDSQ0KIyAgdWNpKHZhcmlhdmVsKQ0KIyDDqSBpbXBvcnRhbnRlIGNvbmhlY2VyIG9zIG5vbWVzIGRhIHZhcmnDoXZlaXMgKHNldG9yZXMpIGRlbnRybyBkbyBzaGFwZQ0KDQpsaWJyYXJ5KHNwZGVwKTsgbGlicmFyeShyZ2RhbCk7bGlicmFyeShjdHYpOyBsaWJyYXJ5KG1hcHRvb2xzKQ0KI01TNzkgPC0gZ2V0aW5mby5zaGFwZSgiQUVEX01TNzlfZW1wcmVnbzE2IikgIyBhYnJpciBzaGFwZSBNUyA3OSBtdW5pY2lwaW9zDQojc2lkcyA8LSByZWFkT0dSKCIuIiwgIkFFRF9NUzc5X2VtcHJlZ28xNiIpDQojbmFtZXMoc2lkcykNCiMgYWdvcmEgcXVlIGNvbmhlw6dvIG9zIG5vbWVzLCBmYXJlaSBwYXJhICJBRE1JTl9DSUFMIg0KDQp1Y2koQURNSU5fQ0lBTCkgIA0KcmVzdWx0YWRvczwtIHJlYWQuY3N2KGZpbGU9Im91dHB1dDIuY3N2IikNCnByaW50KHJlc3VsdGFkb3MpDQoNCiMgYWdvcmEgcGFyYSBDT05TVF9DSU9TDQoNCnVjaShDT05TVF9DSU9TKSAgDQpyZXN1bHRhZG9zPC0gcmVhZC5jc3YoZmlsZT0ib3V0cHV0Mi5jc3YiKQ0KcHJpbnQocmVzdWx0YWRvcykNCg0KIyBjb21lcmNpbyB2YXJlamlzdGEgQ09NUkNfSVNUQQ0KdWNpKENPTVJDX0lTVEEpICANCnJlc3VsdGFkb3M8LSByZWFkLmNzdihmaWxlPSJvdXRwdXQyLmNzdiIpDQpwcmludChyZXN1bHRhZG9zKQ0KIyBhcG9zIHJvZGFyIG8gdWNpIHVtYSB2ZXosIHZjIHBvZGUgYXJtYXplbmFyIG9zIGRhZG9zIGRlIGNvb3JkZW5hZGFzDQp3cml0ZXhsOjp3cml0ZV94bHN4KGFzLmRhdGEuZnJhbWUoZGF0YV9tYXApLCJkYXRhbWFwLnhscyIpDQoNCmBgYA0KDQpSZWZlcsOqbmNpYXMgey0jUmVmZXLDqm5jaWFzfQ0KPT09PT09PT09PT09PT09PT09PT09PQ0KDQpCQUxBU1NBLCBCLiBUcmFkZSBMaWJlcmFsaXphdGlvbiBhbmQgUmV2ZWFsZWQgQ29tcGFyYXRpdmUgQWR2YW50YWdlLCBUaGUgTWFuY2hlc3RlciBTY2hvb2wgMzM6IDk5LTEyMy4gMTk2NS4gDQoNCkJBTExBTkQsIFAuQS4gRWNvbm9taWMgR2VvZ3JhcGh5IGluIFI6IEludHJvZHVjdGlvbiB0byB0aGUgRWNvbkdlbyBQYWNrYWdlLCBQYXBlcnMgaW4gRXZvbHV0aW9uYXJ5IEVjb25vbWljIEdlb2dyYXBoeSwgMTcgKDA5KTogMS03NSwgMjAxNy4NCg0KQkFMTEFORCwgIFBpZXJyZS1BbGV4YW5kcmUuIEVjb25HZW86IENvbXB1dGluZyBLZXkgSW5kaWNhdG9ycyBvZiB0aGUgU3BhdGlhbCBEaXN0cmlidXRpb24gb2YgRWNvbm9taWMgQWN0aXZpdGllcy4gUiBwYWNrYWdlIHZlcnNpb24gMS4zLiAyMDE5LiBEaXNwb27DrXZlbCBlbSA6IDxodHRwczovL2dpdGh1Yi5jb20vUEFCYWxsYW5kL0Vjb25HZW8+ICAgIA0KDQpDT1VUSU5ITywgTcOhcmNpbyBSLiBBIGNvbnRyaWJ1acOnw6NvIGRhcyBhdGl2aWRhZGVzIGVjb27DtG1pY2FzIGRlIGJhc2UgYWdyb3BlY3XDoXJpYSBuYSBnZXJhw6fDo28gZGUgZW1wcmVnbyBlIG1hc3NhIHNhbGFyaWFsIHBhcmEgb3MgbXVuaWPDrXBpb3MgZGUgTWF0byBHcm9zc28gZG8gU3VsLiBEaXNzZXJ0YcOnw6NvIGRlIE1lc3RyYWRvIChBZG1pbmlzdHJhw6fDo28pLiBDYW1wbyBHcmFuZGU6IFVGTVMsIDIwMTcuIHAuMzItNDIuICAgIA0KDQpGSUdVRUlSRURPLCBBZHJpYW5vIE1hcmNvcyBSb2RyaWd1ZXMuIEVjb25vbWlhIFJlZ2lvbmFsOiBNYXBhcyBlbSBSLiBDYW1wbyBHcmFuZGUtTVMsQnJhc2lsOiBSU3R1ZGlvL1JwdWJzLCAyMDE5YS4gRGlzcG9uw612ZWwgZW06IDxodHRwOi8vcnB1YnMuY29tL2Ftcm9maS9SZWdpb25hbF9FY29ub21pY3NfU3BhdGlhbD4uICAgIA0KDQpGSUdVRUlSRURPLCBBZHJpYW5vIE1hcmNvcyBSb2RyaWd1ZXMuIEFww6puZGljZSAtIGluc3RhbGHDp8OjbyBkbyBSU3R1ZGlvLiBDYW1wbyBHcmFuZGUtTVMsQnJhc2lsOiBSU3R1ZGlvL1JwdWJzLCAyMDE5Yi4gRGlzcG9uw612ZWwgZW06IDxodHRwOi8vcnB1YnMuY29tL2Ftcm9maS9pbnN0cnVjb2VzX1JzdHVkaW8+LiAgIA0KDQpGSUdVRUlSRURPLCBBZHJpYW5vIE1hcmNvcyBSb2RyaWd1ZXMuIEVjb25vbWlhIFJlZ2lvbmFsOiBwb2xvcywgZGl2ZXJzaWRhZGUgZSBlc3BlY2lhbGl6YcOnw6NvIGVtIFIuIENhbXBvIEdyYW5kZS1NUyxCcmFzaWw6IFJTdHVkaW8vUnB1YnMsIDIwMTljLiBEaXNwb27DrXZlbCBlbTogPGh0dHA6Ly9ycHVicy5jb20vYW1yb2ZpL1JlZ2lvbmFsX0Vjb25vbWljc19wb2xlc19kaXZlcnNpdHk+Lg0KDQpGSUdVRUlSRURPLCBBZHJpYW5vIE1hcmNvcyBSb2RyaWd1ZXMuIE1hcGFzIGVtIFIgY29tIGBnZW9icmAuIENhbXBvIEdyYW5kZS1NUyxCcmFzaWw6IFJTdHVkaW8vUnB1YnMsIDIwMjBhLiBEaXNwb27DrXZlbCBlbTogPGh0dHA6Ly9ycHVicy5jb20vYW1yb2ZpL21hcHNfZ2VvYnI+ICAgZSA8aHR0cHM6Ly9hZHJpYW5vZmlndWVpcmVkby5uZXRsaWZ5LmNvbS9wb3N0L21hcGFzLWVtLXItY29tLWdlb2JyLz4uIA0KDQpGSUdVRUlSRURPLCBBZHJpYW5vIE1hcmNvcyBSb2RyaWd1ZXMuIEVjb25vbWlhIFJlZ2lvbmFsOiAkQ1YkLCAkVl93JCBlICRUaGVpbCQgZW0gUi4gQ2FtcG8gR3JhbmRlLU1TLEJyYXNpbDogUlN0dWRpby9ScHVicywgMjAyMGIuIERpc3BvbsOtdmVsIGVtIDxodHRwOi8vcnB1YnMuY29tL2Ftcm9maS9yZWdpb25hbF9pbmRpY2Fkb3Jlc18xPiBlIDxodHRwczovL2Fkcmlhbm9maWd1ZWlyZWRvLm5ldGxpZnkuYXBwL3Bvc3QvZWNvbm9taWEtcmVnaW9uYWwtZW0tci1pbmRpY2Fkb3Jlcy1kZS1hbmFsaXNlLWN2LXYtdy1lLXRoZWlsLz4uICAgICANCg0KRklHVUVJUkVETywgQWRyaWFubyBNYXJjb3MgUm9kcmlndWVzLiBFY29ub21pYSBSZWdpb25hbCBlbSBSOiBJbmRpY2Fkb3JlcyBkZSBhbsOhbGlzZSBkZSBlc3BlY2lhbGl6YcOnw6NvIHJlZ2lvbmFsIC0gJFFMJCwgJENFJCwgJEtTSSQsICRSREkkLCAkRElWJCwgJFVCSVEkLiBDYW1wbyBHcmFuZGUtTVMsQnJhc2lsOiBSU3R1ZGlvL1JwdWJzLCAyMDIwYy4gRGlzcG9uw612ZWwgZW0gPGh0dHA6Ly9ycHVicy5jb20vYW1yb2ZpL3JlZ2lvbmFsX2luZGljYWRvcmVzXzI+IGUgPGh0dHBzOi8vYWRyaWFub2ZpZ3VlaXJlZG8ubmV0bGlmeS5hcHAvcG9zdC9lY29ub21pYS1yZWdpb25hbC1lbS1yLWluZGljYWRvcmVzLWRlLWFuYWxpc2UtMi8+Lg0KDQpGTE9SRU5DRSwgUC4gU2FyZ2VudC4gSW52ZXN0bWVudCwgbG9jYXRpb24sIGFuZCBzaXplIG9mIHBsYW50LiBDYW1icmlkZ2U6IENhbWJyaWRnZSBVbml2ZXJzaXR5IFByZXNzLCAxOTQ4Lg0KDQpIT09WRVIsIEVkZ2FyIE0uOyBHSUFSUkFUQU5JLCBGcmFuay4gQW4gSW50cm9kdWN0aW9uIHRvIFJlZ2lvbmFsIEVjb25vbWljcywgVGhlIFdlYiBCb29rIG9mIFJlZ2lvbmFsIFNjaWVuY2UuIFdlc3QgVmlyZ2luaWE6IFJlZ2lvbmFsIHJlc2VhcmNoIEluc3RpdHV0ZSwgV2VzdCBWaXJnaW5pYSBVbml2ZXJzaXR5LiBEaXNwb27DrXZlbCBlbTogPHd3dy5ycmkud3Z1LmVkdS9XZWJCb29rL0dpYXJyYXRhbmkvY2hhcHRlcm5pbmUuaHRtPiwgdi4gOSwgMTk4NC4gQXR1YWxpemFkbyBlbTogSG9vdmVyLCBFZGdhciBNLiBhbmQgR2lhcnJhdGFuaSwgRnJhbmssICJBbiBJbnRyb2R1Y3Rpb24gdG8gUmVnaW9uYWwgRWNvbm9taWNzIiAoMjAyMCkuIFdlYiBCb29rIG9mIFJlZ2lvbmFsIFNjaWVuY2UuIDQuIDxodHRwczovL3Jlc2VhcmNocmVwb3NpdG9yeS53dnUuZWR1L3JyaS13ZWItYm9vay80Pi4gICAgDQoNCkxBVVRFUlQsIFYuOyBBUkFVSk8sIE4uQy5NLiBDb25jZW50cmHDp8OjbyBpbmR1c3RyaWFsIG5vIEJyYXNpbCBubyBwZXLDrW9kbyAxOTk2LTIwMDE6IHVtYSBhbsOhbGlzZSBwb3IgbWVpbyBkbyDDrW5kaWNlIGRlIEVsbGlzb24gZSBHbGFlc2VyICgxOTk0KS4gRWNvbm9taWEgQXBsaWNhZGEsIFPDo28gUGF1bG8sIHYuIDExLCBuLiAzLCBwLiAzNDctMzY4LCBKdWwuLVNldC4sIDIwMDcuDQoNCk1JREVMRkFSVC1LTkFSVklLLCBLLiBILjsgT1ZFUk1BTiwgSC4gRy47IFJFRERJTkcsIFMuOyBWRU5BQkxFUywgQS4gSi4gSW50ZWdyYXRpb24gYW5kIEluZHVzdHJpYWwuIFJldnVlIMOJY29ub21pcXVlLCB2LiA1Mywgbi4gMywgcC4gNDY5LTQ4MSwgMjAwMi4gRGlzcG9uw612ZWwgZW06IDxodHRwczovL3d3dy5jYWlybi5pbmZvL3JldnVlLWVjb25vbWlxdWUtMjAwMi0zLXBhZ2UtNDY5Lmh0bSM+DQoNCk1PTkFTVEVSSU8sIExlb25hcmRvLiBJbmRpY2Fkb3JlcyBkZSBhbsOhbGlzZSByZWdpb25hbCBlIGVzcGFjaWFsLiBJbjogQ1JVWiBldCBhbCAob3JncykuIEVjb25vbWlhIHJlZ2lvbmFsIGUgdXJiYW5hIDogdGVvcmlhcyBlIG3DqXRvZG9zIGNvbSDDqm5mYXNlIG5vIEJyYXNpbC4gQnJhc8OtbGlhOiBJcGVhLCAyMDExLiBjYXAuIDEwLiBwcC4zMTUtMzMxLg0KDQpOT1JUSCwgRG91Z2xhcy4gVGVvcmlhIGRhIGxvY2FsaXphw6fDo28gZSBjcmVzY2ltZW50byBlY29uw7RtaWNvIHJlZ2lvbmFsLiBJbjogU0NXQVJUWk1BTk4sIEouIChvcmcuKSBFY29ub21pYSByZWdpb25hbCBlIHVyYmFuYTogdGV0b3MgZXNjb2xoaWRvcy4gQmVsbyBIb3Jpem9udGU6IFVGTUcsIHAuMzMzLTM0MywgMTk3Ny4gDQoNClBFUkVJUkEgZXQgYWwuIFF1YW50aWZ5aW5nIFVyYmFuIENlbnRyYWxpdHk6IEEgU2ltcGxlIEluZGV4IFByb3Bvc2FsIEFuZCBJbnRlcm5hdGlvbmFsIENvbXBhcmlzb24uIEJyYXPDrWxpYTogSXBlYSwgMjAxMi4gRGlzcG9uw612ZWwgZW06IDxodHRwOi8vaXBlYS5nb3YuYnIvYWdlbmNpYS9pbWFnZXMvc3Rvcmllcy9QREZzL1REcy90ZF8xNjc1YS5wZGY+Lg0KDQpTT1VaQSwgRmlsaXBlIExhZ2UgZGUuIEEgbG9jYWxpemHDp8OjbyBkYSBpbmTDunN0cmlhIGRlIHRyYW5zZm9ybWHDp8OjbyBicmFzaWxlaXJhIG5hcyDDumx0aW1hcyB0csOqcyBkw6ljYWRhcy4gUmlvIGRlIEphbmVpcm86IEVQR0UtRkdWLCAyMDAyLiAoRGlzc2VydGHDp8OjbywgTWVzdHJhZG8gZW0gRWNvbm9taWEpLiAxMzBwLg0KDQpXSUVMQU5ELCBULiBSRUFUOiBBIFJlZ2lvbmFsIEVjb25vbWljIEFuYWx5c2lzIFRvb2xib3ggZm9yIFIuIFJFR0lPTiwgNigzKSwgUjEtUjU3LiAyMDE5LiBEaXNwb27DrXZlbCBlbTogPGh0dHBzOi8vZG9pLm9yZy8xMC4xODMzNS9yZWdpb24udjZpMy4yNjc+Lg==" download="2020-05-06-economia-regional-em-r-indicadores-de-analise-3.Rmd">Download 2020-05-06-economia-regional-em-r-indicadores-de-analise-3.Rmd</a>
</div>
<div id="introdução" class="section level1">
<h1>Introdução</h1>
<p>Este material é uma sequência ao conteúdo das duas partes anteriores disponíveis em Figueiredo (2020b;2020c). Na primeira parte foram apresentados os indicadores de desigualdade, e na segunda os de especialização. Agora falaremos dos indicadores de localização regional, conforme cita Monastério (2011), e outras leituras úteis além deste autor, são Coutinho (2017) e Hoover e Giarratani (1984;2020). Utilizaremos os pacotes <code>REAT</code> de Wieland (2019); e <code>EconGeo</code> de Balland (2017, 2019), além de algumas funções próprias.</p>
</div>
<div id="indicadores-de-localização-regional" class="section level1">
<h1>Indicadores de Localização Regional</h1>
<p>O objetivo desses indicadores é resumir os padrões espaciais da atividade econômica, tentando compreender como um setor está distribuído em um local ou região, ou ainda, quais os locais mais importantes para um setor. A localização refere-se a medir o quão concentrados regionalmente estão os setores. Em geral, os indicadores de localização podem ser adaptados a partir dos de especialização, com a diferença de que os indicadores deste tipo se referem aos setores econômicos e não mais às regiões.</p>
<p>As primeiras referências no assunto são atribuídas a Florence (1948), citado por Monastério (2011), North (1977) entre outros.</p>
<p>A ideia básica deste arquivo é orientar os procedimentos para o cálculo dos indicadores de análise regional a saber:</p>
<ol style="list-style-type: decimal">
<li>Coeficiente de Localização (<span class="math inline">\(CL\)</span>)<br />
</li>
<li>Centro econômico<br />
</li>
<li>Potencial de mercado (<span class="math inline">\(MP\)</span> no inglês, <em>Market Potential</em>)<br />
</li>
<li>Índice de Ellison-Glaeser (<span class="math inline">\(EGI\)</span>)<br />
</li>
<li>Índice de Separação Espacial (<span class="math inline">\(ISP\)</span> - <em>Spatial Separation Index</em> ou de Venables <span class="math inline">\(V\)</span>)<br />
</li>
<li>Índice de Centralidade Urbana <span class="math inline">\(UCI\)</span></li>
</ol>
</div>
<div id="coeficiente-de-localização-de-florence-cl" class="section level1">
<h1>Coeficiente de Localização de Florence (<span class="math inline">\(CL\)</span>)</h1>
<p>As primeiras referências para o coeficiente de localização são atribuídas a Florence (1948), citado por Monastério (2011), North (1977) entre outros. North (1977) ainda menciona o trabalho de Hildebrand e Mace Jr. (1950) com um quociente de localização que conduz ao mesmo resultado, conforme reconhecido por North(1977, p.301). O raciocínio para este coeficiente envolve a comparação da concentração do emprego de uma atividade em um local de análise (por exemplo o município), com um local de referência (por exemplo, o estado).</p>
<p>A expressão básica é muito similar à do <span class="math inline">\(CE\)</span>, para setores <span class="math inline">\(k\)</span> e localidades <span class="math inline">\(i\)</span>, mas agora somando entre localidades <span class="math inline">\(i\)</span>, conforme Monastério (2011) dada por:</p>
<p><span class="math display">\[
C{L_k} = \frac{1}{2}\sum\limits_i {\left| {\frac{{{E_{ki}}}}{{{E_k}}} - \frac{{{E_i}}}{E}} \right|}
\]</span></p>
<p>em que: <span class="math inline">\({E_{ki}}\)</span> é o emprego no setor <span class="math inline">\(k\)</span> na localidade de análise <span class="math inline">\(i\)</span>; <span class="math inline">\({E_i}\)</span> é o emprego total na localidade de análise <span class="math inline">\(i\)</span>; <span class="math inline">\({E_k}\)</span> é o emprego no setor <span class="math inline">\(k\)</span> da localidade de referência; e <span class="math inline">\(E\)</span> é o emprego total da localidade de referência.</p>
<div id="organização-dos-dados" class="section level2">
<h2>Organização dos dados</h2>
<p>Para o cálculo de <span class="math inline">\(CL\)</span>, necessita-se dos dados de emprego por setor em cada município de MS. Desta forma, chama-se a planilha já preparada com os dados da base de informações RAIS do Ministério do Trabalho e Emprego do Brasil (MTE). Um meio de obter tais informações eletronicamente é pelo pacote <code>raisr</code>. Outra forma é pela página da Secretaria do Trabalho do Ministério da Economia (antigo Ministério do Trabalho e Emprego - MTE) <a href="http://pdet.mte.gov.br/" class="uri">http://pdet.mte.gov.br/</a>.</p>
<p>A RAIS possui os dados para o final de cada ano (dezembro), portanto, os saldos de empregados ocupados. A CAGED apresenta outro tipo de informação, a de ligados e desligados, invés do saldo de pessoas ocupadas. Utilizaremos os dados da RAIS por vínculos, por Divisão CNAE 2.0 e por município. Outras agregações podem ser testadas, a critério do usuário. O procedimento recomendado é baixar os dados primeiro, organizar e depois chamar a planilha consolidada para o No site, só consegui essa extratificação para após 2006. Sugiro olhar o video ilustrativo em <a href="https://youtu.be/b93l_T3xhiA" class="uri">https://youtu.be/b93l_T3xhiA</a>.</p>
<p>Criei uma função para realizar as operações conforme a fórmula de CL acima.</p>
<pre class="r"><code>CL &lt;- function(mat) {
    mat &lt;- as.matrix(mat)
    share_tech_city &lt;- t(round(t(mat)/rowSums(t(mat)), 4))  #regional shares
    share_tech_total &lt;- colSums(t(mat))/sum(t(mat))  # regional share total
    CL &lt;- abs(share_tech_city - share_tech_total)
    CL[is.na(CL)] &lt;- 0
    CL &lt;- 0.5 * colSums(CL)
    return(CL)
}</code></pre>
<p>Utilizarei a mesma matriz básica (<code>mat_0</code>) para 2006 e mat_1 para 2016, como em Figueiredo (2020c).</p>
<ul>
<li>Para 2006:</li>
</ul>
<pre class="r"><code>library(readxl)
dadosemprego &lt;- read_excel(&quot;emprego.xlsx&quot;, sheet = &quot;2006&quot;)
mat_0 &lt;- as.matrix(dadosemprego[1:79, 2:88])  # 2006
cl.ms_0 &lt;- round(CL(mat_0), 4)
share_tech_city &lt;- t(round(t(mat_0)/rowSums(t(mat_0)), 4))  #regional shares
share_tech_total &lt;- colSums(t(mat_0))/sum(t(mat_0))  # regional share total</code></pre>
<ul>
<li>Para 2016:</li>
</ul>
<pre class="r"><code>dadosemprego_1 &lt;- read_excel(&quot;emprego.xlsx&quot;, sheet = &quot;2016&quot;)
mat_1 &lt;- as.matrix(dadosemprego_1[1:79, 2:88])  # 2016
cl.ms_1 &lt;- round(CL(mat_1), 4)
CL.MS &lt;- cbind(cl.ms_0, cl.ms_1)
colnames(CL.MS) &lt;- c(&quot;CL.2006&quot;, &quot;CL.2016&quot;)
knitr::kable(CL.MS)</code></pre>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">CL.2006</th>
<th align="right">CL.2016</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ADMINISTRAÇÃO PÚBLICA, DEFESA E SEGURIDADE SOCIAL</td>
<td align="right">0.1660</td>
<td align="right">0.1794</td>
</tr>
<tr class="even">
<td>AGÊNCIAS DE VIAGENS, OPERADORES TURÍSTICOS E SERVIÇOS DE RESERVAS</td>
<td align="right">0.3380</td>
<td align="right">0.3923</td>
</tr>
<tr class="odd">
<td>AGRICULTURA, PECUÁRIA E SERVIÇOS RELACIONADOS</td>
<td align="right">0.4511</td>
<td align="right">0.4828</td>
</tr>
<tr class="even">
<td>ALIMENTAÇÃO</td>
<td align="right">0.1506</td>
<td align="right">0.1350</td>
</tr>
<tr class="odd">
<td>ALOJAMENTO</td>
<td align="right">0.2516</td>
<td align="right">0.2712</td>
</tr>
<tr class="even">
<td>ALUGUÉIS NÃO-IMOBILIÁRIOS E GESTÃO DE ATIVOS INTANGÍVEIS NÃO-FINANCEIROS</td>
<td align="right">0.4010</td>
<td align="right">0.2875</td>
</tr>
<tr class="odd">
<td>ARMAZENAMENTO E ATIVIDADES AUXILIARES DOS TRANSPORTES</td>
<td align="right">0.2449</td>
<td align="right">0.2811</td>
</tr>
<tr class="even">
<td>ATIVIDADES ARTÍSTICAS, CRIATIVAS E DE ESPETÁCULOS</td>
<td align="right">0.4534</td>
<td align="right">0.4825</td>
</tr>
<tr class="odd">
<td>ATIVIDADES AUXILIARES DOS SERVIÇOS FINANCEIROS, SEGUROS, PREVIDÊNCIA COMPLEMENTAR E PLANOS DE SAÚDE</td>
<td align="right">0.3476</td>
<td align="right">0.3177</td>
</tr>
<tr class="even">
<td>ATIVIDADES CINEMATOGRÁFICAS, PRODUÇÃO DE VÍDEOS E DE PROGRAMAS DE TELEVISÃO</td>
<td align="right">0.3364</td>
<td align="right">0.3975</td>
</tr>
<tr class="odd">
<td>ATIVIDADES DE APOIO À EXTRAÇÃO DE MINERAIS</td>
<td align="right">0.9775</td>
<td align="right">0.9149</td>
</tr>
<tr class="even">
<td>ATIVIDADES DE ATENÇÃO À SAÚDE HUMANA</td>
<td align="right">0.2505</td>
<td align="right">0.2300</td>
</tr>
<tr class="odd">
<td>ATIVIDADES DE ATENÇÃO À SAÚDE HUMANA INTEGRADAS COM ASSISTÊNCIA SOCIAL, PRESTADAS EM RESIDÊNCIAS COLETIVAS E PARTICULARES</td>
<td align="right">0.4469</td>
<td align="right">0.3664</td>
</tr>
<tr class="even">
<td>ATIVIDADES DE EXPLORAÇÃO DE JOGOS DE AZAR E APOSTAS</td>
<td align="right">0.4712</td>
<td align="right">0.9878</td>
</tr>
<tr class="odd">
<td>ATIVIDADES DE ORGANIZAÇÕES ASSOCIATIVAS</td>
<td align="right">0.2406</td>
<td align="right">0.3551</td>
</tr>
<tr class="even">
<td>ATIVIDADES DE PRESTAÇÃO DE SERVIÇOS DE INFORMAÇÃO</td>
<td align="right">0.2748</td>
<td align="right">0.3192</td>
</tr>
<tr class="odd">
<td>ATIVIDADES DE RÁDIO E DE TELEVISÃO</td>
<td align="right">0.1965</td>
<td align="right">0.2255</td>
</tr>
<tr class="even">
<td>ATIVIDADES DE SEDES DE EMPRESAS E DE CONSULTORIA EM GESTÃO EMPRESARIAL</td>
<td align="right">0.4425</td>
<td align="right">0.4182</td>
</tr>
<tr class="odd">
<td>ATIVIDADES DE SERVIÇOS FINANCEIROS</td>
<td align="right">0.1501</td>
<td align="right">0.1164</td>
</tr>
<tr class="even">
<td>ATIVIDADES DE VIGILÂNCIA, SEGURANÇA E INVESTIGAÇÃO</td>
<td align="right">0.3797</td>
<td align="right">0.3740</td>
</tr>
<tr class="odd">
<td>ATIVIDADES DOS SERVIÇOS DE TECNOLOGIA DA INFORMAÇÃO</td>
<td align="right">0.4972</td>
<td align="right">0.5008</td>
</tr>
<tr class="even">
<td>ATIVIDADES ESPORTIVAS E DE RECREAÇÃO E LAZER</td>
<td align="right">0.2236</td>
<td align="right">0.2164</td>
</tr>
<tr class="odd">
<td>ATIVIDADES IMOBILIÁRIAS</td>
<td align="right">0.3315</td>
<td align="right">0.2531</td>
</tr>
<tr class="even">
<td>ATIVIDADES JURÍDICAS, DE CONTABILIDADE E DE AUDITORIA</td>
<td align="right">0.1753</td>
<td align="right">0.1067</td>
</tr>
<tr class="odd">
<td>ATIVIDADES LIGADAS AO PATRIMÔNIO CULTURAL E AMBIENTAL</td>
<td align="right">0.4891</td>
<td align="right">0.8678</td>
</tr>
<tr class="even">
<td>ATIVIDADES VETERINÁRIAS</td>
<td align="right">0.3020</td>
<td align="right">0.3435</td>
</tr>
<tr class="odd">
<td>CAPTAÇÃO, TRATAMENTO E DISTRIBUIÇÃO DE ÁGUA</td>
<td align="right">0.4884</td>
<td align="right">0.5503</td>
</tr>
<tr class="even">
<td>COLETA, TRATAMENTO E DISPOSIÇÃO DE RESÍDUOS</td>
<td align="right">0.6902</td>
<td align="right">0.4363</td>
</tr>
<tr class="odd">
<td>COMÉRCIO E REPARAÇÃO DE VEÍCULOS AUTOMOTORES E MOTOCICLETAS</td>
<td align="right">0.1696</td>
<td align="right">0.1409</td>
</tr>
<tr class="even">
<td>COMÉRCIO POR ATACADO, EXCETO VEÍCULOS AUTOMOTORES E MOTOCICLETAS</td>
<td align="right">0.1427</td>
<td align="right">0.1687</td>
</tr>
<tr class="odd">
<td>COMÉRCIO VAREJISTA</td>
<td align="right">0.1080</td>
<td align="right">0.0795</td>
</tr>
<tr class="even">
<td>CONFECÇÃO DE ARTIGOS DO VESTUÁRIO E ACESSÓRIOS</td>
<td align="right">0.4366</td>
<td align="right">0.2966</td>
</tr>
<tr class="odd">
<td>CONSTRUÇÃO DE EDIFÍCIOS</td>
<td align="right">0.3913</td>
<td align="right">0.2984</td>
</tr>
<tr class="even">
<td>CORREIO E OUTRAS ATIVIDADES DE ENTREGA</td>
<td align="right">0.2111</td>
<td align="right">0.2148</td>
</tr>
<tr class="odd">
<td>DESCONTAMINAÇÃO E OUTROS SERVIÇOS DE GESTÃO DE RESÍDUOS</td>
<td align="right">0.0000</td>
<td align="right">0.0000</td>
</tr>
<tr class="even">
<td>EDIÇÃO E EDIÇÃO INTEGRADA À IMPRESSÃO</td>
<td align="right">0.3352</td>
<td align="right">0.2676</td>
</tr>
<tr class="odd">
<td>EDUCAÇÃO</td>
<td align="right">0.2314</td>
<td align="right">0.2692</td>
</tr>
<tr class="even">
<td>ELETRICIDADE, GÁS E OUTRAS UTILIDADES</td>
<td align="right">0.2382</td>
<td align="right">0.2116</td>
</tr>
<tr class="odd">
<td>ESGOTO E ATIVIDADES RELACIONADAS</td>
<td align="right">0.4507</td>
<td align="right">0.4603</td>
</tr>
<tr class="even">
<td>EXTRAÇÃO DE CARVÃO MINERAL</td>
<td align="right">0.7526</td>
<td align="right">0.0000</td>
</tr>
<tr class="odd">
<td>EXTRAÇÃO DE MINERAIS METÁLICOS</td>
<td align="right">0.9697</td>
<td align="right">0.9688</td>
</tr>
<tr class="even">
<td>EXTRAÇÃO DE MINERAIS NÃO-METÁLICOS</td>
<td align="right">0.4968</td>
<td align="right">0.6813</td>
</tr>
<tr class="odd">
<td>EXTRAÇÃO DE PETRÓLEO E GÁS NATURAL</td>
<td align="right">0.5326</td>
<td align="right">0.0000</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE BEBIDAS</td>
<td align="right">0.4912</td>
<td align="right">0.5150</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE CELULOSE, PAPEL E PRODUTOS DE PAPEL</td>
<td align="right">0.4322</td>
<td align="right">0.8597</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE COQUE, DE PRODUTOS DERIVADOS DO PETRÓLEO E DE BIOCOMBUSTÍVEIS</td>
<td align="right">0.8706</td>
<td align="right">0.7683</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE EQUIPAMENTOS DE INFORMÁTICA, PRODUTOS ELETRÔNICOS E ÓPTICOS</td>
<td align="right">0.4647</td>
<td align="right">0.5724</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE MÁQUINAS E EQUIPAMENTOS</td>
<td align="right">0.3333</td>
<td align="right">0.3415</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE MÁQUINAS, APARELHOS E MATERIAIS ELÉTRICOS</td>
<td align="right">0.6893</td>
<td align="right">0.8210</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE MÓVEIS</td>
<td align="right">0.3319</td>
<td align="right">0.3712</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE OUTROS EQUIPAMENTOS DE TRANSPORTE, EXCETO VEÍCULOS AUTOMOTORES</td>
<td align="right">0.9139</td>
<td align="right">0.9450</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE PRODUTOS ALIMENTÍCIOS</td>
<td align="right">0.5239</td>
<td align="right">0.4851</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE PRODUTOS DE BORRACHA E DE MATERIAL PLÁSTICO</td>
<td align="right">0.3880</td>
<td align="right">0.4513</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE PRODUTOS DE MADEIRA</td>
<td align="right">0.5301</td>
<td align="right">0.4645</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE PRODUTOS DE METAL, EXCETO MÁQUINAS E EQUIPAMENTOS</td>
<td align="right">0.4012</td>
<td align="right">0.2280</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE PRODUTOS DE MINERAIS NÃO-METÁLICOS</td>
<td align="right">0.4468</td>
<td align="right">0.3627</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE PRODUTOS DIVERSOS</td>
<td align="right">0.4808</td>
<td align="right">0.5181</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE PRODUTOS DO FUMO</td>
<td align="right">0.5326</td>
<td align="right">0.5705</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE PRODUTOS FARMOQUÍMICOS E FARMACÊUTICOS</td>
<td align="right">0.5162</td>
<td align="right">0.5821</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE PRODUTOS QUÍMICOS</td>
<td align="right">0.3645</td>
<td align="right">0.3708</td>
</tr>
<tr class="odd">
<td>FABRICAÇÃO DE PRODUTOS TÊXTEIS</td>
<td align="right">0.7975</td>
<td align="right">0.7219</td>
</tr>
<tr class="even">
<td>FABRICAÇÃO DE VEÍCULOS AUTOMOTORES, REBOQUES E CARROCERIAS</td>
<td align="right">0.3682</td>
<td align="right">0.3742</td>
</tr>
<tr class="odd">
<td>IMPRESSÃO E REPRODUÇÃO DE GRAVAÇÕES</td>
<td align="right">0.2871</td>
<td align="right">0.1968</td>
</tr>
<tr class="even">
<td>MANUTENÇÃO, REPARAÇÃO E INSTALAÇÃO DE MÁQUINAS E EQUIPAMENTOS</td>
<td align="right">0.2648</td>
<td align="right">0.3065</td>
</tr>
<tr class="odd">
<td>METALURGIA</td>
<td align="right">0.7738</td>
<td align="right">0.7680</td>
</tr>
<tr class="even">
<td>OBRAS DE INFRA-ESTRUTURA</td>
<td align="right">0.3149</td>
<td align="right">0.3646</td>
</tr>
<tr class="odd">
<td>ORGANISMOS INTERNACIONAIS E OUTRAS INSTITUIÇÕES EXTRATERRITORIAIS</td>
<td align="right">0.5133</td>
<td align="right">0.9056</td>
</tr>
<tr class="even">
<td>OUTRAS ATIVIDADES DE SERVIÇOS PESSOAIS</td>
<td align="right">0.2280</td>
<td align="right">0.1989</td>
</tr>
<tr class="odd">
<td>OUTRAS ATIVIDADES PROFISSIONAIS, CIENTÍFICAS E TÉCNICAS</td>
<td align="right">0.2636</td>
<td align="right">0.3550</td>
</tr>
<tr class="even">
<td>PESCA E AQÜICULTURA</td>
<td align="right">0.8121</td>
<td align="right">0.8288</td>
</tr>
<tr class="odd">
<td>PESQUISA E DESENVOLVIMENTO CIENTÍFICO</td>
<td align="right">0.4146</td>
<td align="right">0.4382</td>
</tr>
<tr class="even">
<td>PREPARAÇÃO DE COUROS E FABRICAÇÃO DE ARTEFATOS DE COURO, ARTIGOS PARA VIAGEM E CALÇADOS</td>
<td align="right">0.5031</td>
<td align="right">0.6367</td>
</tr>
<tr class="odd">
<td>PRODUÇÃO FLORESTAL</td>
<td align="right">0.7526</td>
<td align="right">0.7962</td>
</tr>
<tr class="even">
<td>PUBLICIDADE E PESQUISA DE MERCADO</td>
<td align="right">0.3987</td>
<td align="right">0.4451</td>
</tr>
<tr class="odd">
<td>REPARAÇÃO E MANUTENÇÃO DE EQUIPAMENTOS DE INFORMÁTICA E COMUNICAÇÃO E DE OBJETOS PESSOAIS E DOMÉSTICOS</td>
<td align="right">0.2947</td>
<td align="right">0.2512</td>
</tr>
<tr class="even">
<td>SEGUROS, RESSEGUROS, PREVIDÊNCIA COMPLEMENTAR E PLANOS DE SAÚDE</td>
<td align="right">0.4209</td>
<td align="right">0.4172</td>
</tr>
<tr class="odd">
<td>SELEÇÃO, AGENCIAMENTO E LOCAÇÃO DE MÃO-DE-OBRA</td>
<td align="right">0.3983</td>
<td align="right">0.5780</td>
</tr>
<tr class="even">
<td>SERVIÇOS DE ARQUITETURA E ENGENHARIA</td>
<td align="right">0.5414</td>
<td align="right">0.3470</td>
</tr>
<tr class="odd">
<td>SERVIÇOS DE ASSISTÊNCIA SOCIAL SEM ALOJAMENTO</td>
<td align="right">0.2900</td>
<td align="right">0.3604</td>
</tr>
<tr class="even">
<td>SERVIÇOS DE ESCRITÓRIO, DE APOIO ADMINISTRATIVO E OUTROS SERVIÇOS PRESTADOS ÀS EMPRESAS</td>
<td align="right">0.3789</td>
<td align="right">0.3809</td>
</tr>
<tr class="odd">
<td>SERVIÇOS DOMÉSTICOS</td>
<td align="right">0.2128</td>
<td align="right">0.5691</td>
</tr>
<tr class="even">
<td>SERVIÇOS ESPECIALIZADOS PARA CONSTRUÇÃO</td>
<td align="right">0.3340</td>
<td align="right">0.2221</td>
</tr>
<tr class="odd">
<td>SERVIÇOS PARA EDIFÍCIOS E ATIVIDADES PAISAGÍSTICAS</td>
<td align="right">0.4120</td>
<td align="right">0.4192</td>
</tr>
<tr class="even">
<td>TELECOMUNICAÇÕES</td>
<td align="right">0.4051</td>
<td align="right">0.2370</td>
</tr>
<tr class="odd">
<td>TRANSPORTE AÉREO</td>
<td align="right">0.4877</td>
<td align="right">0.4699</td>
</tr>
<tr class="even">
<td>TRANSPORTE AQUAVIÁRIO</td>
<td align="right">0.8655</td>
<td align="right">0.9527</td>
</tr>
<tr class="odd">
<td>TRANSPORTE TERRESTRE</td>
<td align="right">0.2061</td>
<td align="right">0.1377</td>
</tr>
</tbody>
</table>
<pre class="r"><code># salvar data.frames para csv com write.csv() ou para excel
writexl::write_xlsx(as.data.frame(CL.MS), &quot;clms2006_2016.xlsx&quot;)</code></pre>
</div>
</div>
<div id="potencial-de-mercado" class="section level1">
<h1>Potencial de Mercado</h1>
<p>Ceteris paribus e intuitivamente, um potencial de mercado elevado indica o quão atraente para as atividades econômicas uma região é. A proximidade de mercados é vantajosa para as empresas uma vez que fornecedores e consumidores estarão mais acessíveis. Obviamente, existem outras forças em jogo, mas as medidas de potencial de mercado buscam capturar exatamente tal proximidade.<br />
Pode-se então identificar o centro econômico de uma região e calcular quão próximo se está deste centro.</p>
<div id="centro-econômico-cec" class="section level2">
<h2>Centro econômico (CEC)</h2>
<p>O centro econômico ponderado de um país pode ser identificado encontrando as coordenadas do centro <span class="math inline">\((x_m,y_m)\)</span>, conforme:</p>
<p><span class="math display">\[
{x_m} = \sum\limits_{i = 1}^n {\left( {{x_i}\frac{{PI{B_i}}}{{\sum\limits_{i = 1}^n {PI{B_i}} }}} \right)}
\]</span>
e</p>
<p><span class="math display">\[
{y_m} = \sum\limits_{i = 1}^n {\left( {{y_i}\frac{{PI{B_i}}}{{\sum\limits_{i = 1}^n {PI{B_i}} }}} \right)}
\]</span></p>
<p>onde <span class="math inline">\(y_i\)</span>, <span class="math inline">\(x_i\)</span> são latitudes e longitudes dos centroides de cada região <span class="math inline">\(i\)</span> e <span class="math inline">\(PIB_i\)</span> refere-se ao Produto Interno Bruto, ou outra variável econômica relevante.</p>
<p>Portanto, seja um dataset contendo os valores dos PIB municipais e respectivas coordenadas dos centróides. Seja o exemplo de cálculo do Potencial de Mercado conforme Monasterio (2011) (HARRIS, 1954 apud BRAKMAN, GARRETSEN e MARREWIJK, 2003, p. 35-37). O potencial de mercado de uma região é definido como:</p>
<pre class="r"><code># variaveis do dataset, a partir do shapefile do IBGE e adaptado 79 municipios de
# Mato Grosso do Sul, 2002-2015
library(readxl)
library(foreign)
load(&quot;dados.pot.Rda&quot;)

# View(dados.pot)
attach(dados.pot)
# codmun - codigo do municipio no IBGE 7 digitos nomemun - nome do municipio lat
# - latitude conforme consta no shapefile do IBGE long - longitude conforme
# consta no shapefile do IBGE pib - pib municipal em valores correntes (R$ 1000)
# SCN 2010
pib &lt;- dados.pot[89:102]
# pop - populacao municipal estimada pelo IBGE para o TCU
pop &lt;- dados.pot[103:116]
# pibpc - pib per capita municipal em valores correntes
pibpc &lt;- dados.pot[117:130]
# MPi , o potencial de mercado da região i, é o somatório da demanda nos locais j
# (Mj), ponderada pela distância entre i e j (Dij).</code></pre>
<p>Neste exemplo faremos o uso da distância ao centro economico como a distancia para avaliacao do potencial de mercado.</p>
<pre class="r"><code># determinacao do centro economico, composto de uma latitude e longitude passo 1:
# calculo da parcela do PIB municipal no PIB estadual
attach(pib)
attach(dados.pot)
Si &lt;- pib2015/(sum(pib2015))
xc.pib2015 &lt;- I(long * Si)
yc.pib2015 &lt;- I(lat * Si)
xm &lt;- sum(xc.pib2015)  # coordenada do centro economico
ym &lt;- sum(yc.pib2015)
# coordenadas do centro economico em UTM metros
centro.economico &lt;- c(xm, ym)
centro.economico</code></pre>
<pre><code>[1] -54.26200 -20.92285</code></pre>
<pre class="r"><code># -54.26200,-20.92285</code></pre>
<p>O resultado gráfico pode ser plotado no Google Maps ou Google Earth como abaixo:</p>
<div class="figure">
<img src="centro2015.png" alt="" />
<p class="caption"><em>Plotagem do centro econômico de MS em 2015</em></p>
</div>
<div id="distancia-do-municipio-ao-centro-economico-d" class="section level3">
<h3>Distancia do municipio ao centro economico (D)</h3>
<p>Uma vez estimado o centro econômico, é calculada a distância entre este e os centros das outras regiões. Para o cálculo da distância euclidiana da região i(disti) ao centro econômico, basta calcular:</p>
<p><span class="math display">\[
dis{t_i} = \sqrt {{{({x_i} - {x_m})}^2} + {{({y_i} - {y_m})}^2}} 
\]</span></p>
<p>Segue o código em R, utilizando o pacote <code>geosphere</code> e a função <code>distGeo</code>:</p>
<pre class="r"><code>attach(pib)
attach(dados.pot)
# distancia do municipio ao centro economico
# dist.ce&lt;-sqrt((long-xm)^2+(lat-ym)^2) dist.ce
library(geosphere)
attach(dados.pot)
# calculo individual para Agua Clara
dist.ce &lt;- distGeo(c(-52.878, -20.448), c(-54.262, -20.92285))
# distancia em metros
dist.ce</code></pre>
<pre><code>[1] 153478.1</code></pre>
<pre class="r"><code># distancia em km
dist.ce/1000</code></pre>
<pre><code>[1] 153.4781</code></pre>
<pre class="r"><code># Calculo para todos os municipios
dist.teste &lt;- cbind(long, lat)
dist.ce.all &lt;- distGeo(dist.teste, c(-54.262, -20.92285))
dist.km.all &lt;- dist.ce.all/1000
dados.full &lt;- cbind(dados.pot, Si, xc.pib2015, yc.pib2015, dist.km.all)</code></pre>
</div>
</div>
<div id="potencial-de-mercado-para-com-o-centro-econômico-pm" class="section level2">
<h2>Potencial de mercado para com o centro econômico (PM)</h2>
<pre class="r"><code># potencial de mercado para com o centro economico Dij = dist.km.all MPi =
# soma(Mj/Dij) para Mj = pib*1000
MPmun2015 &lt;- pib2015 * 1000/dist.km.all
MP.CE &lt;- sum(MPmun2015)  #RETIRAR DA SOMA O MUNICIPIO DE REFERENCIA!
MP.CE</code></pre>
<pre><code>[1] 697138467</code></pre>
<pre class="r"><code>dados.full &lt;- cbind(pib, Si, xc.pib2015, yc.pib2015, dist.km.all, MPmun2015)
tabela &lt;- cbind(nomemun, MPmun2015)
writexl::write_xlsx(as.data.frame(dados.full), &quot;dadospot.xlsx&quot;)</code></pre>
</div>
</div>
<div id="índice-de-localização-de-ellison-glaeser-egi" class="section level1">
<h1>Índice de localização de Ellison-Glaeser (EGI)</h1>
<p>O Índice de localização de Ellison-Glaeser (<span class="math inline">\(EGI_k\)</span>) para um setor <span class="math inline">\(k\)</span> entre os municípios <span class="math inline">\(i\)</span> é uma sugestão de Ellison e Glaeser (1997) como forma de correcçao dos indicadores clássicos tipo coeficiente de localização de Florence ou Hoover, ou Gini. Conforme Feser (2000), uma diferença importante é que ele deriva de uma teoria explícita do comportamento da localização da firma.</p>
<p>O índice considera a concentração como a aglomeração acima do que se observaria se as firmas se localizassem de modo aleatório. Pelo argumento destes autores, o <span class="math inline">\(EGI_k\)</span> seria robusto às diferenças no nível de agregação espacial, controlando as diferenças da distribuição dos estabelecimentos entre diferentes setores, e portanto considera o fato de que a concentração espacial em parte deriva da concentração setorial. Isto facilitaria a comparação setorial entre países distintos, por exemplo.</p>
<p>A expressão do índice é:</p>
<p><span class="math display">\[
EGI_k = \frac{{G - \left( {1 - \sum\limits_i {x_i^2} } \right)H}}{{\left( {1 - \sum\limits_i {x_i^2} } \right)\left( {1 - H} \right)}}
\]</span></p>
<p>Para o índice de concentração de Herfindahl <span class="math inline">\(H\)</span></p>
<p><span class="math display">\[
H = {\sum\limits_{i = 1}^M {\left( {\frac{{{E_{ki}}}}{E}} \right)} ^2}
\]</span>
ou seja, <span class="math inline">\(H\)</span> é o somatório do volume de empregos do setor <span class="math inline">\(k\)</span> na região <span class="math inline">\(i\)</span> (<span class="math inline">\(E_ki\)</span>), em razão do volume de empregos total (<span class="math inline">\(E\)</span>) e,</p>
<p><span class="math display">\[
G = {\sum\limits_{i = 1} {\left( {\frac{{{E_{ki}}}}{{{E_k}}} - \frac{{{E_i}}}{E}} \right)} ^2}
\]</span>
em que <span class="math inline">\(G\)</span> é o somatório do quadrado da diferença entre a parcela do emprego do setor <span class="math inline">\(k\)</span> na região <span class="math inline">\(i\)</span> volume de empregos do setor <span class="math inline">\(k\)</span> na região <span class="math inline">\(i\)</span> (<span class="math inline">\(E_{ki}/E_k\)</span>), e a parcela do emprego industrial na área (<span class="math inline">\(x_i = E_i /E\)</span>).</p>
<p>O índice de Ellison-Glaeser, portanto, considera a concentração setorial <span class="math inline">\(H\)</span> em sua fórmula, em que <span class="math inline">\(0\le H\le1\)</span>. Menores valores de <span class="math inline">\(EGI_k\)</span> indicam fraca localização, por exemplo entre 0 e 0,02, e valores de <span class="math inline">\(EGI_k\)</span> maiores que 0,05 indicam intensa localização (Monastério, 2011).
Existe o risco de uma má interpretação, por exemplo, imaginando se ter concentração espacial</p>
<pre class="r"><code>library(readxl)
dadosemprego &lt;- read_excel(&quot;emprego.xlsx&quot;, sheet = &quot;2006&quot;)
# View(dadosemprego) attach(dadosemprego)
# ei&lt;-rowSums(as.matrix(dadosemprego[,2:88]))
E &lt;- colSums(dadosemprego[, 89], dims = 1)
ei &lt;- dadosemprego[, 89]
# ei é o emprego total da regiao i, E é o emprego total MS Ek é o emprego total
# MS do setor k
Ek &lt;- t(colSums(dadosemprego[, 2:88], dims = 1))
# função EGI
EGI &lt;- function(eki, ei, Ek, E) {
    s_ki &lt;- eki/Ek
    s_i &lt;- ei/E
    G &lt;- sum((s_ki - s_i)^2)
    H &lt;- sum((eki/E)^2)
    Z &lt;- 1 - sum((s_i^2))
    EGk &lt;- ((G - Z * H)/(Z * (1 - H)))
    return(EGk)
}

# teste - divisao 2
EGI.div &lt;- EGI(dadosemprego$`AGÊNCIAS DE VIAGENS, OPERADORES TURÍSTICOS E SERVIÇOS DE RESERVAS`, 
    ei, Ek[1, 2], E)
EGI.div</code></pre>
<pre><code>[1] 0.04959096</code></pre>
<p>Portanto, um indicador <span class="math inline">\(EGI=0.04959\)</span> indica uma média para intensa localização segundo Ellison-Glaeser.
Pode-se generalizar a função para todos os setores <span class="math inline">\(k\)</span>, automatizar para todas as colunas e ano de 2006:</p>
<pre class="r"><code>require(knitr)
# EGI &lt;- function (eki, ei, Ek, E) retirar zeros de paraiso das aguas

dados2 &lt;- dadosemprego[-c(58), ]
# View(dados2)
ei &lt;- dados2$`Total Geral`
E &lt;- colSums(dados2[, 89], dims = 1)
Ek &lt;- t(colSums(dados2[, 2:88], dims = 1))
setores &lt;- names(dados2[, 2:88])
# inicializar EGI
EGI.MS.2006 &lt;- 0

for (k in 1:87) {
    dadosemp2 &lt;- dados2[1:78, k + 1]
    EGI.2006 &lt;- EGI(dadosemp2, ei, Ek[1, k], E)
    EGI.MS.2006[k] &lt;- EGI.2006
}
EGI.MS.2006 &lt;- cbind((names(dados2[, 2:88])), round(EGI.MS.2006, 4))
writexl::write_xlsx(as.data.frame(EGI.MS.2006), &quot;EGIMS2006.xls&quot;)

knitr::kable(EGI.MS.2006)</code></pre>
<table>
<tbody>
<tr class="odd">
<td align="left">ADMINISTRAÇÃO PÚBLICA, DEFESA E SEGURIDADE SOCIAL</td>
<td align="left">-0.0033</td>
</tr>
<tr class="even">
<td align="left">AGÊNCIAS DE VIAGENS, OPERADORES TURÍSTICOS E SERVIÇOS DE RESERVAS</td>
<td align="left">0.0496</td>
</tr>
<tr class="odd">
<td align="left">AGRICULTURA, PECUÁRIA E SERVIÇOS RELACIONADOS</td>
<td align="left">0.2103</td>
</tr>
<tr class="even">
<td align="left">ALIMENTAÇÃO</td>
<td align="left">0.0066</td>
</tr>
<tr class="odd">
<td align="left">ALOJAMENTO</td>
<td align="left">0.0324</td>
</tr>
<tr class="even">
<td align="left">ALUGUÉIS NÃO-IMOBILIÁRIOS E GESTÃO DE ATIVOS INTANGÍVEIS NÃO-FINANCEIROS</td>
<td align="left">0.1988</td>
</tr>
<tr class="odd">
<td align="left">ARMAZENAMENTO E ATIVIDADES AUXILIARES DOS TRANSPORTES</td>
<td align="left">0.0143</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES ARTÍSTICAS, CRIATIVAS E DE ESPETÁCULOS</td>
<td align="left">0.2258</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES AUXILIARES DOS SERVIÇOS FINANCEIROS, SEGUROS, PREVIDÊNCIA COMPLEMENTAR E PLANOS DE SAÚDE</td>
<td align="left">0.0866</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES CINEMATOGRÁFICAS, PRODUÇÃO DE VÍDEOS E DE PROGRAMAS DE TELEVISÃO</td>
<td align="left">0.0552</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES DE APOIO À EXTRAÇÃO DE MINERAIS</td>
<td align="left">0.9479</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES DE ATENÇÃO À SAÚDE HUMANA</td>
<td align="left">0.0724</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES DE ATENÇÃO À SAÚDE HUMANA INTEGRADAS COM ASSISTÊNCIA SOCIAL, PRESTADAS EM RESIDÊNCIAS COLETIVAS E PARTICULARES</td>
<td align="left">0.0697</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES DE EXPLORAÇÃO DE JOGOS DE AZAR E APOSTAS</td>
<td align="left">0.2726</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES DE ORGANIZAÇÕES ASSOCIATIVAS</td>
<td align="left">0.0446</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES DE PRESTAÇÃO DE SERVIÇOS DE INFORMAÇÃO</td>
<td align="left">0.0372</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES DE RÁDIO E DE TELEVISÃO</td>
<td align="left">0.0069</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES DE SEDES DE EMPRESAS E DE CONSULTORIA EM GESTÃO EMPRESARIAL</td>
<td align="left">0.1763</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES DE SERVIÇOS FINANCEIROS</td>
<td align="left">0.0064</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES DE VIGILÂNCIA, SEGURANÇA E INVESTIGAÇÃO</td>
<td align="left">0.186</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES DOS SERVIÇOS DE TECNOLOGIA DA INFORMAÇÃO</td>
<td align="left">0.3322</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES ESPORTIVAS E DE RECREAÇÃO E LAZER</td>
<td align="left">0.0239</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES IMOBILIÁRIAS</td>
<td align="left">0.0636</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES JURÍDICAS, DE CONTABILIDADE E DE AUDITORIA</td>
<td align="left">0.0142</td>
</tr>
<tr class="odd">
<td align="left">ATIVIDADES LIGADAS AO PATRIMÔNIO CULTURAL E AMBIENTAL</td>
<td align="left">0.1199</td>
</tr>
<tr class="even">
<td align="left">ATIVIDADES VETERINÁRIAS</td>
<td align="left">0.0348</td>
</tr>
<tr class="odd">
<td align="left">CAPTAÇÃO, TRATAMENTO E DISTRIBUIÇÃO DE ÁGUA</td>
<td align="left">0.2536</td>
</tr>
<tr class="even">
<td align="left">COLETA, TRATAMENTO E DISPOSIÇÃO DE RESÍDUOS</td>
<td align="left">0.2728</td>
</tr>
<tr class="odd">
<td align="left">COMÉRCIO E REPARAÇÃO DE VEÍCULOS AUTOMOTORES E MOTOCICLETAS</td>
<td align="left">0.0105</td>
</tr>
<tr class="even">
<td align="left">COMÉRCIO POR ATACADO, EXCETO VEÍCULOS AUTOMOTORES E MOTOCICLETAS</td>
<td align="left">0.0056</td>
</tr>
<tr class="odd">
<td align="left">COMÉRCIO VAREJISTA</td>
<td align="left">7e-04</td>
</tr>
<tr class="even">
<td align="left">CONFECÇÃO DE ARTIGOS DO VESTUÁRIO E ACESSÓRIOS</td>
<td align="left">0.0774</td>
</tr>
<tr class="odd">
<td align="left">CONSTRUÇÃO DE EDIFÍCIOS</td>
<td align="left">0.2032</td>
</tr>
<tr class="even">
<td align="left">CORREIO E OUTRAS ATIVIDADES DE ENTREGA</td>
<td align="left">0.0538</td>
</tr>
<tr class="odd">
<td align="left">DESCONTAMINAÇÃO E OUTROS SERVIÇOS DE GESTÃO DE RESÍDUOS</td>
<td align="left">NaN</td>
</tr>
<tr class="even">
<td align="left">EDIÇÃO E EDIÇÃO INTEGRADA À IMPRESSÃO</td>
<td align="left">0.0939</td>
</tr>
<tr class="odd">
<td align="left">EDUCAÇÃO</td>
<td align="left">0.026</td>
</tr>
<tr class="even">
<td align="left">ELETRICIDADE, GÁS E OUTRAS UTILIDADES</td>
<td align="left">0.026</td>
</tr>
<tr class="odd">
<td align="left">ESGOTO E ATIVIDADES RELACIONADAS</td>
<td align="left">0.1079</td>
</tr>
<tr class="even">
<td align="left">EXTRAÇÃO DE CARVÃO MINERAL</td>
<td align="left">0.2224</td>
</tr>
<tr class="odd">
<td align="left">EXTRAÇÃO DE MINERAIS METÁLICOS</td>
<td align="left">1.5207</td>
</tr>
<tr class="even">
<td align="left">EXTRAÇÃO DE MINERAIS NÃO-METÁLICOS</td>
<td align="left">0.1048</td>
</tr>
<tr class="odd">
<td align="left">EXTRAÇÃO DE PETRÓLEO E GÁS NATURAL</td>
<td align="left">0.3843</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE BEBIDAS</td>
<td align="left">0.2497</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE CELULOSE, PAPEL E PRODUTOS DE PAPEL</td>
<td align="left">0.1151</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE COQUE, DE PRODUTOS DERIVADOS DO PETRÓLEO E DE BIOCOMBUSTÍVEIS</td>
<td align="left">0.4541</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE EQUIPAMENTOS DE INFORMÁTICA, PRODUTOS ELETRÔNICOS E ÓPTICOS</td>
<td align="left">0.0883</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE MÁQUINAS E EQUIPAMENTOS</td>
<td align="left">0.0554</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE MÁQUINAS, APARELHOS E MATERIAIS ELÉTRICOS</td>
<td align="left">0.5181</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE MÓVEIS</td>
<td align="left">0.0404</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE OUTROS EQUIPAMENTOS DE TRANSPORTE, EXCETO VEÍCULOS AUTOMOTORES</td>
<td align="left">0.7756</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE PRODUTOS ALIMENTÍCIOS</td>
<td align="left">0.1953</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE PRODUTOS DE BORRACHA E DE MATERIAL PLÁSTICO</td>
<td align="left">0.1159</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE PRODUTOS DE MADEIRA</td>
<td align="left">0.1897</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE PRODUTOS DE METAL, EXCETO MÁQUINAS E EQUIPAMENTOS</td>
<td align="left">0.109</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE PRODUTOS DE MINERAIS NÃO-METÁLICOS</td>
<td align="left">0.11</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE PRODUTOS DIVERSOS</td>
<td align="left">0.1827</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE PRODUTOS DO FUMO</td>
<td align="left">0.3843</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE PRODUTOS FARMOQUÍMICOS E FARMACÊUTICOS</td>
<td align="left">0.1756</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE PRODUTOS QUÍMICOS</td>
<td align="left">0.0604</td>
</tr>
<tr class="odd">
<td align="left">FABRICAÇÃO DE PRODUTOS TÊXTEIS</td>
<td align="left">0.783</td>
</tr>
<tr class="even">
<td align="left">FABRICAÇÃO DE VEÍCULOS AUTOMOTORES, REBOQUES E CARROCERIAS</td>
<td align="left">0.0621</td>
</tr>
<tr class="odd">
<td align="left">IMPRESSÃO E REPRODUÇÃO DE GRAVAÇÕES</td>
<td align="left">0.0487</td>
</tr>
<tr class="even">
<td align="left">MANUTENÇÃO, REPARAÇÃO E INSTALAÇÃO DE MÁQUINAS E EQUIPAMENTOS</td>
<td align="left">0.0221</td>
</tr>
<tr class="odd">
<td align="left">METALURGIA</td>
<td align="left">0.4142</td>
</tr>
<tr class="even">
<td align="left">OBRAS DE INFRA-ESTRUTURA</td>
<td align="left">0.0556</td>
</tr>
<tr class="odd">
<td align="left">ORGANISMOS INTERNACIONAIS E OUTRAS INSTITUIÇÕES EXTRATERRITORIAIS</td>
<td align="left">0.1882</td>
</tr>
<tr class="even">
<td align="left">OUTRAS ATIVIDADES DE SERVIÇOS PESSOAIS</td>
<td align="left">0.0505</td>
</tr>
<tr class="odd">
<td align="left">OUTRAS ATIVIDADES PROFISSIONAIS, CIENTÍFICAS E TÉCNICAS</td>
<td align="left">0.0271</td>
</tr>
<tr class="even">
<td align="left">PESCA E AQÜICULTURA</td>
<td align="left">0.5829</td>
</tr>
<tr class="odd">
<td align="left">PESQUISA E DESENVOLVIMENTO CIENTÍFICO</td>
<td align="left">0.0841</td>
</tr>
<tr class="even">
<td align="left">PREPARAÇÃO DE COUROS E FABRICAÇÃO DE ARTEFATOS DE COURO, ARTIGOS PARA VIAGEM E CALÇADOS</td>
<td align="left">0.1413</td>
</tr>
<tr class="odd">
<td align="left">PRODUÇÃO FLORESTAL</td>
<td align="left">0.4949</td>
</tr>
<tr class="even">
<td align="left">PUBLICIDADE E PESQUISA DE MERCADO</td>
<td align="left">0.1765</td>
</tr>
<tr class="odd">
<td align="left">REPARAÇÃO E MANUTENÇÃO DE EQUIPAMENTOS DE INFORMÁTICA E COMUNICAÇÃO E DE OBJETOS PESSOAIS E DOMÉSTICOS</td>
<td align="left">0.0622</td>
</tr>
<tr class="even">
<td align="left">SEGUROS, RESSEGUROS, PREVIDÊNCIA COMPLEMENTAR E PLANOS DE SAÚDE</td>
<td align="left">0.2088</td>
</tr>
<tr class="odd">
<td align="left">SELEÇÃO, AGENCIAMENTO E LOCAÇÃO DE MÃO-DE-OBRA</td>
<td align="left">0.1665</td>
</tr>
<tr class="even">
<td align="left">SERVIÇOS DE ARQUITETURA E ENGENHARIA</td>
<td align="left">0.3921</td>
</tr>
<tr class="odd">
<td align="left">SERVIÇOS DE ASSISTÊNCIA SOCIAL SEM ALOJAMENTO</td>
<td align="left">0.0617</td>
</tr>
<tr class="even">
<td align="left">SERVIÇOS DE ESCRITÓRIO, DE APOIO ADMINISTRATIVO E OUTROS SERVIÇOS PRESTADOS ÀS EMPRESAS</td>
<td align="left">0.1735</td>
</tr>
<tr class="odd">
<td align="left">SERVIÇOS DOMÉSTICOS</td>
<td align="left">0.0082</td>
</tr>
<tr class="even">
<td align="left">SERVIÇOS ESPECIALIZADOS PARA CONSTRUÇÃO</td>
<td align="left">0.0834</td>
</tr>
<tr class="odd">
<td align="left">SERVIÇOS PARA EDIFÍCIOS E ATIVIDADES PAISAGÍSTICAS</td>
<td align="left">0.2259</td>
</tr>
<tr class="even">
<td align="left">TELECOMUNICAÇÕES</td>
<td align="left">0.1714</td>
</tr>
<tr class="odd">
<td align="left">TRANSPORTE AÉREO</td>
<td align="left">0.2803</td>
</tr>
<tr class="even">
<td align="left">TRANSPORTE AQUAVIÁRIO</td>
<td align="left">0.8101</td>
</tr>
<tr class="odd">
<td align="left">TRANSPORTE TERRESTRE</td>
<td align="left">0.0176</td>
</tr>
</tbody>
</table>
</div>
<div id="índice-de-separação-espacial-ou-de-venables-v" class="section level1">
<h1>Índice de separação espacial ou de Venables (V)</h1>
<p>O Índice de Separação Espacial (<span class="math inline">\(ISP\)</span>) ou também chamado índice de Venables (<span class="math inline">\(V\)</span>) surge para considerar as distâncias entre as localidades em que se situam certas atividades econômicas. O coeficiente de localização (<span class="math inline">\(CL\)</span>) não se altera quando localidades têm concentração industrial mas etão mais (ou menos) distantes enre si. Desta forma, Middelfart-Knarvik et al (2002) propuseram o <span class="math inline">\(ISP\)</span> como:</p>
<p><span class="math display">\[ 
ISP_k=\sum_i \sum_j {s_{ik} s_{jk} \delta_{ij}}
\]</span>
em que <span class="math inline">\(i\)</span> e <span class="math inline">\(j\)</span> são as localidades do setor <span class="math inline">\(k\)</span> e <span class="math inline">\(\delta_{ij}\)</span> é a distância entre <span class="math inline">\(i\)</span> e <span class="math inline">\(j\)</span>. Em termos matriciais, pode-se reescrever a expressão da forma:</p>
<p><span class="math display">\[
ISP = V = S&#39; D S
\]</span></p>
<p>em que <span class="math inline">\(S_k\)</span> é o vetor da participação do setor <span class="math inline">\(k\)</span> nas localidades e <span class="math inline">\(D\)</span> a matriz de distâncias.<br />
O ISP é, portanto, como uma ‘média’ ponderada das distâncias entre municípios onde se localizam os empregos da força de trabalho nos respectivos pares de localidades. Seu intervalo de variação é dado pela distância observada entre os pares de regiões. Quanto menor o valor do ISP, mais concentrada espacialmente está o setor. O <span class="math inline">\(ISP_k\)</span> assume valor zero para concentração perfeita em uma só localidade, e aumenta quanto mais distantes estiverem.
Sousa (2002) calculou o ISP para diversos ramos da indústria brasileira, em nível estadual, entre 1970 e 1997. Seus resultados sugerem, em linhas gerais, um incremento da separação da indústria de transformação ao longo do período.</p>
</div>
<div id="índice-de-centralidade-urbana-uci" class="section level1">
<h1>Índice de centralidade urbana (UCI)</h1>
<p>O código para calcular a centralidade urbana contém um dispositivo para abrir um pop-up de modo que o leitor escolha o arquivo shape a ser utilizado. Desta forma, o RMarkdown não consegue abrir automaticamente o shape sem a intervenção humana.
Estaremos corrigindo esta modalidade de modo a fazer o cálculo automático, especificando fora de <code>uci.R</code> o <code>file_name</code>, o qual indica o shapefile a ser utilizado, onde estão os dados de emprego por setores e localidades.
Dentro do <code>uci.R</code>, a linha que chamava para escolha do shapefile foi “#comentada”.</p>
<pre class="r"><code># Indice de Centralidade Urbana (UCI) este índice utiliza três indicadores para
# seu cálculo (V, P, e CL) P = proximidade V = Venables CL = coeficiente de
# localização de Florence (1948) utilizaremos a rotina de Pereira et al (2012)

# trabalharemos com shape para obter os centroides e as distancias
library(foreign)
library(fields)
library(sp)
library(rgeos)
library(maptools)
options(digits = 5)

# coloque os shapefiles no mesmo diretorio do projeto utilizaremos os shape de
# nome &#39;AED_MS79_emprego16&#39; função UCI será armazenada à parte
file_name &lt;&lt;- &quot;~/disciplinas/economia regional/laboratorio R/indicadores_3/AED_MS79_emprego16.shp&quot;
source(&quot;~/disciplinas/economia regional/laboratorio R/indicadores_3/uci.R&quot;)
# run UCI uci(variavel) é importante conhecer os nomes da variáveis (setores)
# dentro do shape

library(spdep)
library(rgdal)
library(ctv)
library(maptools)
# MS79 &lt;- getinfo.shape(&#39;AED_MS79_emprego16&#39;) # abrir shape MS 79 municipios sids
# &lt;- readOGR(&#39;.&#39;, &#39;AED_MS79_emprego16&#39;) names(sids) agora que conheço os nomes,
# farei para &#39;ADMIN_CIAL&#39;

uci(ADMIN_CIAL)</code></pre>
<p><img src="/post/2020-05-06-economia-regional-em-r-indicadores-de-analise-3_files/figure-html/unnamed-chunk-10-1.png" width="672" /><img src="/post/2020-05-06-economia-regional-em-r-indicadores-de-analise-3_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
<pre><code>[1] &quot;var_x&quot;
       V1       
 Min.   :    3  
 1st Qu.:  328  
 Median :  506  
 Mean   : 1559  
 3rd Qu.:  770  
 Max.   :65781  
[1] &quot;var_x_norm&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
0.00002 0.00267 0.00411 0.01266 0.00625 0.53405 
[1] &quot;area&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0246  0.1425  0.2603  0.3912  0.4282  5.5657 
[1] &quot;distance&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0884  1.5666  2.5948  2.8556  3.6725  6.3556 
     shapefile                                                                     
[1,] &quot;C:\\Users\\amrof\\Documents\\blogdown\\content\\post\\AED_MS79_emprego16.shp&quot;
     v                  v_max              mono               
[1,] &quot;1.75173588779973&quot; &quot;3.21972440217403&quot; &quot;0.455936077442864&quot;
     cl                  uci_max            
[1,] &quot;0.589531822841332&quot; &quot;0.268788826834018&quot;</code></pre>
<pre class="r"><code>resultados &lt;- read.csv(file = &quot;output2.csv&quot;)
print(resultados)</code></pre>
<pre><code>                                                                     shapefile
1 C:\\Users\\amrof\\Documents\\blogdown\\content\\post\\AED_MS79_emprego16.shp
       v  v_max    mono      cl uci_max
1 1.7517 3.2197 0.45594 0.58953 0.26879</code></pre>
<pre class="r"><code># agora para CONST_CIOS

uci(CONST_CIOS)</code></pre>
<p><img src="/post/2020-05-06-economia-regional-em-r-indicadores-de-analise-3_files/figure-html/unnamed-chunk-10-3.png" width="672" /><img src="/post/2020-05-06-economia-regional-em-r-indicadores-de-analise-3_files/figure-html/unnamed-chunk-10-4.png" width="672" /></p>
<pre><code>[1] &quot;var_x&quot;
       V1      
 Min.   :   0  
 1st Qu.:   0  
 Median :   4  
 Mean   : 128  
 3rd Qu.:  20  
 Max.   :6244  
[1] &quot;var_x_norm&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
0.00000 0.00000 0.00039 0.01266 0.00197 0.61554 
[1] &quot;area&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0246  0.1425  0.2603  0.3912  0.4282  5.5657 
[1] &quot;distance&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0884  1.5666  2.5948  2.8556  3.6725  6.3556 
     shapefile                                                                     
[1,] &quot;C:\\Users\\amrof\\Documents\\blogdown\\content\\post\\AED_MS79_emprego16.shp&quot;
     v                v_max              mono               
[1,] &quot;1.479056624768&quot; &quot;3.21972440217403&quot; &quot;0.540626326970932&quot;
     cl                  uci_max            
[1,] &quot;0.831680759094358&quot; &quot;0.449628514001579&quot;</code></pre>
<pre class="r"><code>resultados &lt;- read.csv(file = &quot;output2.csv&quot;)
print(resultados)</code></pre>
<pre><code>                                                                     shapefile
1 C:\\Users\\amrof\\Documents\\blogdown\\content\\post\\AED_MS79_emprego16.shp
       v  v_max    mono      cl uci_max
1 1.4791 3.2197 0.54063 0.83168 0.44963</code></pre>
<pre class="r"><code># comercio varejista COMRC_ISTA
uci(COMRC_ISTA)</code></pre>
<p><img src="/post/2020-05-06-economia-regional-em-r-indicadores-de-analise-3_files/figure-html/unnamed-chunk-10-5.png" width="672" /><img src="/post/2020-05-06-economia-regional-em-r-indicadores-de-analise-3_files/figure-html/unnamed-chunk-10-6.png" width="672" /></p>
<pre><code>[1] &quot;var_x&quot;
       V1       
 Min.   :   16  
 1st Qu.:  124  
 Median :  294  
 Mean   : 1147  
 3rd Qu.:  812  
 Max.   :37253  
[1] &quot;var_x_norm&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
0.00018 0.00137 0.00324 0.01266 0.00896 0.41101 
[1] &quot;area&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0246  0.1425  0.2603  0.3912  0.4282  5.5657 
[1] &quot;distance&quot;
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0884  1.5666  2.5948  2.8556  3.6725  6.3556 
     shapefile                                                                     
[1,] &quot;C:\\Users\\amrof\\Documents\\blogdown\\content\\post\\AED_MS79_emprego16.shp&quot;
     v                  v_max              mono               
[1,] &quot;1.89736860260646&quot; &quot;3.21972440217403&quot; &quot;0.410704654930926&quot;
     cl                  uci_max            
[1,] &quot;0.596047121376705&quot; &quot;0.244799327307591&quot;</code></pre>
<pre class="r"><code>resultados &lt;- read.csv(file = &quot;output2.csv&quot;)
print(resultados)</code></pre>
<pre><code>                                                                     shapefile
1 C:\\Users\\amrof\\Documents\\blogdown\\content\\post\\AED_MS79_emprego16.shp
       v  v_max   mono      cl uci_max
1 1.8974 3.2197 0.4107 0.59605  0.2448</code></pre>
<pre class="r"><code># apos rodar o uci uma vez, vc pode armazenar os dados de coordenadas
writexl::write_xlsx(as.data.frame(data_map), &quot;datamap.xls&quot;)</code></pre>
</div>
<div id="Referências" class="section level1 unnumbered">
<h1>Referências</h1>
<p>BALASSA, B. Trade Liberalization and Revealed Comparative Advantage, The Manchester School 33: 99-123. 1965.</p>
<p>BALLAND, P.A. Economic Geography in R: Introduction to the EconGeo Package, Papers in Evolutionary Economic Geography, 17 (09): 1-75, 2017.</p>
<p>BALLAND, Pierre-Alexandre. EconGeo: Computing Key Indicators of the Spatial Distribution of Economic Activities. R package version 1.3. 2019. Disponível em : <a href="https://github.com/PABalland/EconGeo" class="uri">https://github.com/PABalland/EconGeo</a></p>
<p>COUTINHO, Márcio R. A contribuição das atividades econômicas de base agropecuária na geração de emprego e massa salarial para os municípios de Mato Grosso do Sul. Dissertação de Mestrado (Administração). Campo Grande: UFMS, 2017. p.32-42.</p>
<p>FIGUEIREDO, Adriano Marcos Rodrigues. Economia Regional: Mapas em R. Campo Grande-MS,Brasil: RStudio/Rpubs, 2019a. Disponível em: <a href="http://rpubs.com/amrofi/Regional_Economics_Spatial" class="uri">http://rpubs.com/amrofi/Regional_Economics_Spatial</a>.</p>
<p>FIGUEIREDO, Adriano Marcos Rodrigues. Apêndice - instalação do RStudio. Campo Grande-MS,Brasil: RStudio/Rpubs, 2019b. Disponível em: <a href="http://rpubs.com/amrofi/instrucoes_Rstudio" class="uri">http://rpubs.com/amrofi/instrucoes_Rstudio</a>.</p>
<p>FIGUEIREDO, Adriano Marcos Rodrigues. Economia Regional: polos, diversidade e especialização em R. Campo Grande-MS,Brasil: RStudio/Rpubs, 2019c. Disponível em: <a href="http://rpubs.com/amrofi/Regional_Economics_poles_diversity" class="uri">http://rpubs.com/amrofi/Regional_Economics_poles_diversity</a>.</p>
<p>FIGUEIREDO, Adriano Marcos Rodrigues. Mapas em R com <code>geobr</code>. Campo Grande-MS,Brasil: RStudio/Rpubs, 2020a. Disponível em: <a href="http://rpubs.com/amrofi/maps_geobr" class="uri">http://rpubs.com/amrofi/maps_geobr</a> e <a href="https://adrianofigueiredo.netlify.com/post/mapas-em-r-com-geobr/" class="uri">https://adrianofigueiredo.netlify.com/post/mapas-em-r-com-geobr/</a>.</p>
<p>FIGUEIREDO, Adriano Marcos Rodrigues. Economia Regional: <span class="math inline">\(CV\)</span>, <span class="math inline">\(V_w\)</span> e <span class="math inline">\(Theil\)</span> em R. Campo Grande-MS,Brasil: RStudio/Rpubs, 2020b. Disponível em <a href="http://rpubs.com/amrofi/regional_indicadores_1" class="uri">http://rpubs.com/amrofi/regional_indicadores_1</a> e <a href="https://adrianofigueiredo.netlify.app/post/economia-regional-em-r-indicadores-de-analise-cv-v-w-e-theil/" class="uri">https://adrianofigueiredo.netlify.app/post/economia-regional-em-r-indicadores-de-analise-cv-v-w-e-theil/</a>.</p>
<p>FIGUEIREDO, Adriano Marcos Rodrigues. Economia Regional em R: Indicadores de análise de especialização regional - <span class="math inline">\(QL\)</span>, <span class="math inline">\(CE\)</span>, <span class="math inline">\(KSI\)</span>, <span class="math inline">\(RDI\)</span>, <span class="math inline">\(DIV\)</span>, <span class="math inline">\(UBIQ\)</span>. Campo Grande-MS,Brasil: RStudio/Rpubs, 2020c. Disponível em <a href="http://rpubs.com/amrofi/regional_indicadores_2" class="uri">http://rpubs.com/amrofi/regional_indicadores_2</a> e <a href="https://adrianofigueiredo.netlify.app/post/economia-regional-em-r-indicadores-de-analise-2/" class="uri">https://adrianofigueiredo.netlify.app/post/economia-regional-em-r-indicadores-de-analise-2/</a>.</p>
<p>FLORENCE, P. Sargent. Investment, location, and size of plant. Cambridge: Cambridge University Press, 1948.</p>
<p>HOOVER, Edgar M.; GIARRATANI, Frank. An Introduction to Regional Economics, The Web Book of Regional Science. West Virginia: Regional research Institute, West Virginia University. Disponível em: &lt;www.rri.wvu.edu/WebBook/Giarratani/chapternine.htm&gt;, v. 9, 1984. Atualizado em: Hoover, Edgar M. and Giarratani, Frank, “An Introduction to Regional Economics” (2020). Web Book of Regional Science. 4. <a href="https://researchrepository.wvu.edu/rri-web-book/4" class="uri">https://researchrepository.wvu.edu/rri-web-book/4</a>.</p>
<p>LAUTERT, V.; ARAUJO, N.C.M. Concentração industrial no Brasil no período 1996-2001: uma análise por meio do índice de Ellison e Glaeser (1994). Economia Aplicada, São Paulo, v. 11, n. 3, p. 347-368, Jul.-Set., 2007.</p>
<p>MIDELFART-KNARVIK, K. H.; OVERMAN, H. G.; REDDING, S.; VENABLES, A. J. Integration and Industrial. Revue Économique, v. 53, n. 3, p. 469-481, 2002. Disponível em: <a href="https://www.cairn.info/revue-economique-2002-3-page-469.htm#" class="uri">https://www.cairn.info/revue-economique-2002-3-page-469.htm#</a></p>
<p>MONASTERIO, Leonardo. Indicadores de análise regional e espacial. In: CRUZ et al (orgs). Economia regional e urbana : teorias e métodos com ênfase no Brasil. Brasília: Ipea, 2011. cap. 10. pp.315-331.</p>
<p>NORTH, Douglas. Teoria da localização e crescimento econômico regional. In: SCWARTZMANN, J. (org.) Economia regional e urbana: tetos escolhidos. Belo Horizonte: UFMG, p.333-343, 1977.</p>
<p>PEREIRA et al. Quantifying Urban Centrality: A Simple Index Proposal And International Comparison. Brasília: Ipea, 2012. Disponível em: <a href="http://ipea.gov.br/agencia/images/stories/PDFs/TDs/td_1675a.pdf" class="uri">http://ipea.gov.br/agencia/images/stories/PDFs/TDs/td_1675a.pdf</a>.</p>
<p>SOUZA, Filipe Lage de. A localização da indústria de transformação brasileira nas últimas três décadas. Rio de Janeiro: EPGE-FGV, 2002. (Dissertação, Mestrado em Economia). 130p.</p>
<p>WIELAND, T. REAT: A Regional Economic Analysis Toolbox for R. REGION, 6(3), R1-R57. 2019. Disponível em: <a href="https://doi.org/10.18335/region.v6i3.267" class="uri">https://doi.org/10.18335/region.v6i3.267</a>.</p>
</div>
